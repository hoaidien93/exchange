exports.ids=[14],exports.modules={HDGS:function(e,t,n){"use strict";var r=n("N9UN"),a=n.n(r),o=n("q1tI"),c=n.n(o);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=function(e){var t=e.styleName,n=l(e,["styleName"]);return c.a.createElement(a.a,i({bordered:!1,className:"cp-card-widget ".concat(t)},n))};u.defaultProps={styleName:""},t.a=u},S4Nf:function(e,t,n){"use strict";n.r(t);var r=n("ZPTe"),a=n.n(r),o=n("9xET"),c=n.n(o),i=n("q1tI"),l=n.n(i),u=n("MM9K"),s=n.n(u),f=n("4IMT"),p=n.n(f),m=n("hw8t"),d=n.n(m),y=n("Pbn2"),b=n.n(y),h=n("a9jo"),g=n.n(h),v=n("3WF5"),w=n.n(v),E=(n("wDdD"),n("vVgw")),O=n("iNPk"),S=n("/MKj"),j=n("24R3"),_=n("zSVi"),P=n("HDGS"),x=n("QprK"),k=n.n(x),M=n("DcAZ"),A=n.n(M),C=n("wUfQ"),N=function(e){var t=Math.PI/180,n=e.cx,r=e.cy,a=e.midAngle,o=e.innerRadius,c=e.outerRadius,i=e.startAngle,u=e.endAngle,s=e.fill,f=e.payload,p=e.percent,m=e.value,d=Math.sin(-t*a),y=Math.cos(-t*a),b=n+(c+10)*y,h=r+(c+10)*d,g=n+(c+30)*y,v=r+(c+30)*d,w=g+22*(y>=0?1:-1),E=v,O=y>=0?"start":"end";return l.a.createElement("g",null,l.a.createElement("text",{x:n,y:r,dy:8,textAnchor:"middle",fill:s},f.name),l.a.createElement(A.a,{cx:n,cy:r,innerRadius:o,outerRadius:c,endAngle:u,startAngle:i,fill:s}),l.a.createElement(A.a,{cx:n,cy:r,startAngle:i,endAngle:u,innerRadius:c+6,outerRadius:c+10,fill:s}),l.a.createElement("path",{d:"M".concat(b,",").concat(h,"L").concat(g,",").concat(v,"L").concat(w,",").concat(E),stroke:s,fill:"none"}),l.a.createElement("circle",{cx:w,cy:E,r:2,fill:s,stroke:"none"}),l.a.createElement("text",{x:w+12*(y>=0?1:-1),y:E,textAnchor:O,fill:"#333"},"".concat(Object(C.a)(m))),l.a.createElement("text",{x:w+12*(y>=0?1:-1),y:E,dy:18,textAnchor:O,fill:"#999"},"".concat((100*p).toFixed(2),"%")))},T=(n("adkz"),n("FehL")),I=n.n(T),D=n("wrKF"),F=n.n(D),R=n("mGSp"),L=n.n(R);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return(U="function"==typeof Symbol&&"symbol"===W(Symbol.iterator)?function(e){return W(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":W(e)})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=k.a.settings.colorPalettes,G=function(e){function t(e){var n,r,a,o,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=q(t).call(this,e),n=!a||"object"!==U(a)&&"function"!=typeof a?V(r):a,o=V(n),i=function(e,t){n.setState({activeIndex:t})},(c="onPieEnter")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n.state={activeIndex:0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(r=[{key:"getData",value:function(){var e=this.props.accounts;return w()(e,(function(e){return{value:e.available_price,name:e.wallet.coin.name}}))}},{key:"render",value:function(){var e=this.state.activeIndex,t=this.getData(),n=g()(t,"value");return l.a.createElement(P.a,{title:l.a.createElement(j.a,{defaultMessage:"Wallet Distribution",id:"wallet.distribution"})},l.a.createElement("div",{className:"text-center text-lg-left"},n>0?l.a.createElement(I.a,{height:200},l.a.createElement(F.a,null,l.a.createElement(L.a,{dataKey:"value",fill:z["@primary-color"],activeIndex:e,activeShape:N,innerRadius:"50%",outerRadius:"70%",onMouseEnter:this.onPieEnter,data:t}))):l.a.createElement(d.a,{icon:l.a.createElement(b.a,{type:"frown",twoToneColor:z["@primary-color"],theme:"twoTone"}),extra:l.a.createElement("span",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"You have no wallet balance.",id:"wallet.no_wallet_balance"})),status:"info"})))}}])&&B(n.prototype,r),a&&B(n,a),t}(i.Component),Y=Object(O.c)(_.c,Object(S.b)((function(e){var t=e.wallet.accounts,n=e.auth;return{accounts:t,auth:new E.a(n)}})))(G),H=n("DRDh"),Q=n("Falu"),Z=n("fVSG");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e){return(X="function"==typeof Symbol&&"symbol"===J(Symbol.iterator)?function(e){return J(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":J(e)})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e){var n,r,a,o,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ee(t).call(this,e),n=!a||"object"!==X(a)&&"function"!=typeof a?te(r):a,o=te(n),i=function(e){e.transferRecord&&e.transferRecord.confirmed&&n.fetchBalance()},(c="transferRecordSavedListener")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n.broadcast=new H.a,n.api=new Q.a,n.state={availablePrice:0,formattedAvailablePrice:"0",loading:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.bindBroadcastEvents(),this.fetchBalance()}},{key:"bindBroadcastEvents",value:function(){this.resetBroadcastChannel(),this.broadcast.listen("TransferRecordSaved",this.transferRecordSavedListener)}},{key:"componentWillUnmount",value:function(){this.api.cancel(),this.broadcast.unbind()}},{key:"resetBroadcastChannel",value:function(){var e=this.props.auth;e.check()?this.broadcast.setChannel("Auth.User."+e.user.id):this.broadcast.unbind()}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.auth.user;e.auth.user.id!==r.id&&(console.log("Updated Balance Component"),this.resetBroadcastChannel())}},{key:"fetchBalance",value:function(){var e=this,t=this.api,n=t.axios,r=(0,t.route)("user.wallet-account.total-available-price");n.post(r.url()).then((function(t){return Object(Z.d)(t,(function(t){e.setState({availablePrice:t.price,formattedAvailablePrice:t.formattedPrice,loading:!1})}))})).catch((function(t){return Object(Z.a)(t,(function(){e.setState({loading:!1})}))})),this.setState({loading:!0})}},{key:"render",value:function(){return l.a.createElement(s.a,{spinning:this.state.loading},l.a.createElement("div",{className:"my-2 my-lg-3"},l.a.createElement("div",{className:"mr-2 cp-fs-3x font-weight-medium d-inline-block"},l.a.createElement("span",null," ",this.state.formattedAvailablePrice," "))))}}])&&$(n.prototype,r),a&&$(n,a),t}(i.Component),ae=Object(O.c)(Object(S.b)((function(e){var t=e.auth;return{auth:new E.a(t)}})))(re),oe=n("N9UN"),ce=n.n(oe),ie=function(e){var t=e.styleName,n=e.coin,r=e.price,a=e.priceColor;return l.a.createElement(ce.a,{className:"".concat(t," cp-card-price d-inline-block")},l.a.createElement("h5",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"{coin} Price",id:"wallet.coin_price",values:{coin:n}})),l.a.createElement("div",{className:"cp-fs-2x font-weight-medium"},l.a.createElement("span",{style:{color:a}},r)))};function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e){return(ue="function"==typeof Symbol&&"symbol"===le(Symbol.iterator)?function(e){return le(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":le(e)})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=fe(t).call(this,e),n=!a||"object"!==ue(a)&&"function"!=typeof a?pe(r):a,de(pe(n),"onMouseOver",(function(){n.setState({scroll:!1})})),de(pe(n),"onMouseOut",(function(){n.setState({scroll:!0})})),n.state={scroll:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.accounts;return l.a.createElement("div",{className:"marquee my-3",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},l.a.createElement("div",{className:"".concat(this.state.scroll?"":"pause")},e.map((function(e){return l.a.createElement(ie,{coin:e.wallet.coin.name,key:e.id,styleName:"mx-1",price:e.formatted_price,priceColor:e.wallet.coin.color})}))))}}])&&se(n.prototype,r),a&&se(n,a),t}(i.Component),be=Object(O.c)(Object(S.b)((function(e){var t=e.wallet.accounts,n=e.auth;return{accounts:t,auth:new E.a(n)}})))(ye),he=n("3Ub6"),ge=n("EC67"),ve=n("55Ip"),we=n("VWBV");function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"===Ee(Symbol.iterator)?function(e){return Ee(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ee(e)})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(){var e,n,r,a,o,c,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return r=this,a=(e=je(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==Oe(a)&&"function"!=typeof a?_e(r):a,o=_e(n),i=function(){n.props.showNewAccountForm()},(c="showNewAccountForm")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.accountsLoading,t=Object(ge.g)(we.a["marketplace.sell_coin"].path),n=Object(ge.g)(we.a["marketplace.buy_coin"].path);return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a,{sm:12,xs:24},l.a.createElement("h2",{className:"h4 text-sm-left text-center"},l.a.createElement(j.a,{defaultMessage:"Your Wallet Balance",id:"wallet.your_balance"})),l.a.createElement("div",{className:"text-center"},l.a.createElement(ae,null),l.a.createElement("div",{className:"text-sm-left mb-3 mt-2 mb-md-2"},l.a.createElement(ve.a,{to:n},l.a.createElement(p.a,{className:"mr-2 cp-btn-success",type:"default"},l.a.createElement("i",{className:"la la-sign-in-alt"}),l.a.createElement("span",{className:"ml-1"},l.a.createElement(j.a,{defaultMessage:"Buy",id:"common.buy"})))),l.a.createElement(ve.a,{to:t},l.a.createElement(p.a,{className:"mr-2",type:"danger"},l.a.createElement("i",{className:"la la-sign-out-alt"}),l.a.createElement("span",{className:"ml-1"},l.a.createElement(j.a,{defaultMessage:"Sell",id:"common.sell"})))))),l.a.createElement(be,null),l.a.createElement("p",{className:"cp-text-primary cp-pointer"},l.a.createElement(p.a,{className:"mr-2",type:"default",onClick:this.showNewAccountForm},l.a.createElement("i",{className:"la la-plus-circle"}),l.a.createElement("span",{className:"ml-1"},l.a.createElement(j.a,{defaultMessage:"Add Account",id:"wallet.add_account"}))))),l.a.createElement(a.a,{sm:12,xs:24},l.a.createElement(s.a,{spinning:e},l.a.createElement(Y,null))))}}])&&Se(n.prototype,r),o&&Se(n,o),t}(i.Component),ke=Object(O.c)(Object(S.b)((function(e){var t=e.wallet;return{accountsLoading:t.accountsLoading,showNewAccountModal:t.showNewAccountModal,accounts:t.accounts}}),{showNewAccountForm:he.o,hideNewAccountForm:he.l}))(xe),Me=n("CC+v"),Ae=n.n(Me),Ce=n("qu0K"),Ne=n.n(Ce),Te=n("FAat"),Ie=n.n(Te),De=n("E+oP"),Fe=n.n(De),Re=n("7++0"),Le=n("4ztd");function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"===We(Symbol.iterator)?function(e){return We(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":We(e)})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=Object(Re.a)({wallet:{id:"wallet.wallet_select_placeholder",defaultMessage:"Select a wallet..."},successful:{id:"wallet.added_account_successfully",defaultMessage:"Your account has been added successfully."}}),Ye=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=qe(t).call(this,e),n=!a||"object"!==Ue(a)&&"function"!=typeof a?Ve(r):a,ze(Ve(n),"hideModal",(function(){n.props.hideNewAccountForm()})),ze(Ve(n),"handleSubmit",(function(){var e=n.api,t=e.axios,r=(0,e.route)("wallet.add-account"),a=n.props,o=a.form,c=a.intl;o.validateFields((function(e,a){Fe()(e)&&(t.post(r.url(),a).then((function(e){return Object(Z.c)(e,o,(function(){n.setState({confirmLoading:!1}),n.props.hideNewAccountForm(),n.triggerSuccess()}),c.formatMessage(Ge.successful))})).catch((function(e){return Object(Z.b)(e,o,a,(function(){n.setState({confirmLoading:!1})}))})),n.setState({confirmLoading:!0}))}))})),n.api=new Q.a,n.state={confirmLoading:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"triggerSuccess",value:function(){var e=this.props.onSuccess;if("function"==typeof e)return e()}},{key:"render",value:function(){var e=this.state.confirmLoading,t=this.props,n=t.showNewAccountModal,r=t.form,a=t.intl,o=t.wallets,c=r.getFieldDecorator;return l.a.createElement(Ae.a,{className:"cp-modal-sm",visible:n,onCancel:this.hideModal,confirmLoading:e,onOk:this.handleSubmit,title:l.a.createElement(j.a,{defaultMessage:"Add Account",id:"wallet.add_account"}),okText:l.a.createElement("span",null,l.a.createElement(j.a,{defaultMessage:"Add",id:"common.add"}))},l.a.createElement(Ne.a.Item,{labelCol:{xs:24,sm:8},wrapperCol:{xs:24,sm:16},labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Wallet",id:"common.select_wallet"})},c("wallet",{rules:[{required:!0}]})(l.a.createElement(Ie.a,{className:"w-100",placeholder:a.formatMessage(Ge.wallet)},o.map((function(e){return l.a.createElement(Ie.a.Option,{key:e.id,value:e.id},e.coin.name)}))))))}}])&&Be(n.prototype,r),a&&Be(n,a),t}(i.Component),He=Object(O.c)(Object(S.b)((function(e){return{showNewAccountModal:e.wallet.showNewAccountModal,wallets:e.collections.wallets}}),{showNewAccountForm:he.o,hideNewAccountForm:he.l}),Object(Le.a)())(Ye),Qe=n("noZS"),Ze=n.n(Qe),Je=n("P/G1"),Xe=n.n(Je),$e=n("eLAd"),et=n.n($e),tt=n("EQeY"),nt=n.n(tt),rt=n("lbd2"),at=n.n(rt),ot=n("eLk5");function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e){return(it="function"==typeof Symbol&&"symbol"===ct(Symbol.iterator)?function(e){return ct(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ct(e)})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=at.a.Paragraph,mt=function(e){function t(){var e,n,r,a,o,c,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];return r=this,a=(e=ut(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==it(a)&&"function"!=typeof a?st(r):a,o=st(n),i=function(){var e=n.props.accounts;return[{title:"Amount",dataIndex:"formatted_value_price",render:function(e,t){return l.a.createElement("span",null,"receive"===t.type?l.a.createElement("span",{className:"cp-text-success"},e):l.a.createElement("span",{className:"cp-text-danger"},e))}},{title:"Date",dataIndex:"created_at",sorter:function(e,t){return Object(O.d)(e.created_at,t.created_at)},render:function(e){return l.a.createElement("div",{style:{whiteSpace:"nowrap"}},Object(O.b)(e))}},{title:"Status",dataIndex:"confirmed",render:function(e){var t="true"===e||"boolean"==typeof e&&e;return l.a.createElement("span",null,t?l.a.createElement(nt.a,{color:"green"},l.a.createElement(j.a,{defaultMessage:"confirmed",id:"wallet.transaction_confirmed"})):l.a.createElement(nt.a,{color:"red"},l.a.createElement(j.a,{defaultMessage:"unconfirmed",id:"wallet.transaction_unconfirmed"})))}},{title:"Value",dataIndex:"value"},{title:"Hash",dataIndex:"hash",render:function(e){return e?l.a.createElement(pt,{copyable:{text:e}},et()(e,{length:14})):e}},{title:"Coin",dataIndex:"coin",fixed:"right",onFilter:function(e,t){return t.coin.includes(e)},filters:Xe()(Ze()(e,(function(e){return{text:e.wallet.coin.name,value:e.wallet.coin.name}})))}]},(c="columns")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=Object(Q.b)("user.transfer-records-table");return l.a.createElement(P.a,{styleName:"cp-card-table",title:l.a.createElement(j.a,{defaultMessage:"Transfer Records",id:"wallet.transfer_records"})},l.a.createElement(ot.a,{route:e.url(),columns:this.columns(),className:"mt-1",scroll:{x:!0,y:!1},size:"middle"}))}}])&&lt(n.prototype,r),a&&lt(n,a),t}(i.Component),dt=Object(O.c)(_.c,Object(S.b)((function(e){var t=e.wallet.accounts,n=e.auth;return{accounts:t,auth:new E.a(n)}})))(mt),yt=n("DtFj"),bt=n.n(yt),ht=n("UIqZ"),gt=n.n(ht),vt=n("d1El"),wt=n.n(vt);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"===Et(Symbol.iterator)?function(e){return Et(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Et(e)})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=Object(Re.a)({actionSuccessful:{id:"wallet.action_successful",defaultMessage:"Your action was successful."}}),kt=function(e){function t(e){var n,r,a,o,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=jt(t).call(this,e),n=!a||"object"!==Ot(a)&&"function"!=typeof a?_t(r):a,o=_t(n),i=function(){return[{title:l.a.createElement(j.a,{defaultMessage:"Address",id:"wallet.address"}),dataIndex:"address"},{title:l.a.createElement(j.a,{defaultMessage:"Total Received",id:"wallet.address_total_received"}),dataIndex:"total_received"},{title:l.a.createElement(j.a,{defaultMessage:"Action",id:"wallet.action"}),key:"action",render:function(e,t){return l.a.createElement("div",{style:{whiteSpace:"nowrap"}},t.reset_webhook&&l.a.createElement(wt.a,{title:"Reset Webhook"},l.a.createElement(p.a,{className:"m-0 mx-1",shape:"circle",onClick:function(){return n.resetWebhook(t)},type:"primary",icon:"sync"})))}}]},(c="getColumn")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n.api=new Q.a,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,e),n=t,(r=[{key:"resetWebhook",value:function(e){var t=this,n=this.api,r=n.axios,a=n.route,o=this.props,c=o.intl,i=a("user.wallet-account.wallet-address.reset-webhook",{walletAccount:o.walletAccountId,walletAddress:e.id});r.post(i.url()).then((function(e){return Object(Z.d)(e,(function(){t.table.fetchData()}),c.formatMessage(xt.actionSuccessful))})).catch((function(e){return Object(Z.a)(e)}))}},{key:"render",value:function(){var e=this,t=this.props.walletAccountId,n=Object(Q.b)("user.wallet-account.wallet-address.table",{walletAccount:t});return l.a.createElement(ot.a,{route:n.url(),pagination:{pageSize:3},size:"small",ref:function(t){return e.table=t},columns:this.getColumn(),className:"mt-1"})}}])&&St(n.prototype,r),a&&St(n,a),t}(i.Component),Mt=Object(O.c)(_.c)(kt);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"===At(Symbol.iterator)?function(e){return At(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":At(e)})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(){var e,n,r,a,o,c,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];return r=this,a=(e=Tt(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==Ct(a)&&"function"!=typeof a?It(r):a,o=It(n),i=function(){return[{title:l.a.createElement(j.a,{defaultMessage:"Coin",id:"wallet.coin"}),dataIndex:"coin"},{title:l.a.createElement(j.a,{defaultMessage:"Available",id:"wallet.available"}),dataIndex:"available"},{title:l.a.createElement(j.a,{defaultMessage:"On Trade",id:"wallet.on_trade"}),dataIndex:"balance_on_trade"},{title:l.a.createElement(j.a,{defaultMessage:"Valuation",id:"wallet.valuation"}),dataIndex:"formatted_available_price"},{title:l.a.createElement(j.a,{defaultMessage:"Action",id:"table.action"}),key:"action",render:function(e,t){return l.a.createElement("div",{style:{whiteSpace:"nowrap"}},l.a.createElement("a",{onClick:function(e){return n.showDepositModal(t.id)}},l.a.createElement(j.a,{defaultMessage:"Deposit",id:"wallet.deposit"})),l.a.createElement(gt.a,{type:"vertical"}),l.a.createElement("a",{onClick:function(e){return n.showWithdrawModal(t.id)}},l.a.createElement(j.a,{defaultMessage:"Withdraw",id:"wallet.withdraw"})))}}]},(c="columns")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,e),n=t,(r=[{key:"showDepositModal",value:function(e){this.props.showDepositModal(e)}},{key:"showWithdrawModal",value:function(e){this.props.showWithdrawModal(e)}},{key:"render",value:function(){var e=this.props,t=e.accounts,n=e.accountsLoading,r=e.auth;return l.a.createElement(P.a,{styleName:"cp-card-table",title:l.a.createElement(j.a,{defaultMessage:"Accounts List",id:"wallet.account_list"}),extra:l.a.createElement(j.a,{defaultMessage:"Currency ({currency})",id:"wallet.currency_highlight",values:{currency:r.user.currency}})},l.a.createElement(bt.a,{columns:this.columns(),className:"mt-1",expandedRowRender:function(e){return l.a.createElement(Mt,{pagination:{pageSize:3},walletAccountId:e.id})},loading:n,size:"middle",rowKey:"id",scroll:{x:!0,y:!1},dataSource:t}))}}])&&Nt(n.prototype,r),a&&Nt(n,a),t}(i.Component),Rt=Object(O.c)(Object(S.b)((function(e){var t=e.wallet,n=t.accountsLoading,r=t.accounts,a=e.auth;return{accountsLoading:n,accounts:r,auth:new E.a(a)}}),{showDepositModal:he.n,showWithdrawModal:he.p}))(Ft),Lt=n("ATwu"),Wt=n.n(Lt),Ut=n("J2m7"),Bt=n.n(Ut),qt=n("D1Df"),Vt=n.n(qt);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e){return(zt="function"==typeof Symbol&&"symbol"===Kt(Symbol.iterator)?function(e){return Kt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Kt(e)})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=k.a.settings.colorPalettes,Xt=at.a.Paragraph,$t=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Yt(t).call(this,e),n=!a||"object"!==zt(a)&&"function"!=typeof a?Ht(r):a,Zt(Ht(n),"hideModal",(function(){n.props.hideDepositModal()})),Zt(Ht(n),"generateAddress",(function(){var e=n.props.accountId;if(e){var t=n.api,r=t.axios,a=(0,t.route)("user.wallet-account.generate-address",{walletAccount:e});r.post(a.url()).then((function(e){return Object(Z.d)(e,(function(e){n.setState({address:e.address,confirmLoading:!1})}))})).catch((function(e){return Object(Z.a)(e,(function(){n.setState({confirmLoading:!1})}))})),n.setState({confirmLoading:!0})}})),n.state={loading:!1,confirmLoading:!1,address:""},n.api=new Q.a,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,e),n=t,(r=[{key:"getAccount",value:function(){var e=this.props,t=e.accounts,n=e.accountId;return Bt()(t,{id:n})}},{key:"componentDidMount",value:function(){this.getLatestAddress()}},{key:"componentDidUpdate",value:function(e,t,n){e.accountId!==this.props.accountId&&(console.log("Updated DepositModal Component"),this.getLatestAddress())}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getLatestAddress",value:function(){var e=this,t=this.props.accountId;if(t){var n=this.api,r=n.axios,a=(0,n.route)("user.wallet-account.latest-address",{walletAccount:t});r.get(a.url()).then((function(t){return Object(Z.d)(t,(function(t){e.setState({address:t.address,loading:!1})}))})).catch((function(t){return Object(Z.a)(t,(function(){e.setState({loading:!1})}))})),this.setState({loading:!0,address:""})}}},{key:"render",value:function(){var e=this.props.visible,t=this.getAccount();return l.a.createElement("div",null,l.a.createElement(Ae.a,{visible:e,title:l.a.createElement(j.a,{defaultMessage:"Deposit {coin}",id:"wallet.deposit_modal_title",values:{coin:l.a.createElement("b",null,t?t.wallet.coin.name:"Coin")}}),confirmLoading:this.state.confirmLoading,onCancel:this.hideModal,onOk:this.generateAddress,okButtonProps:{disabled:!t},okText:l.a.createElement("span",null,l.a.createElement(j.a,{defaultMessage:"Generate New Address",id:"wallet.deposit_modal_ok"}))},l.a.createElement(s.a,{spinning:this.state.loading},t&&this.state.address?l.a.createElement(l.a.Fragment,null,l.a.createElement(Wt.a,{className:"mb-1",showIcon:!0,type:"info",message:l.a.createElement(j.a,{id:"wallet.deposit_confirmation_info",defaultMessage:"Depositing to the below address requires confirmations of the entire network. It will arrive after {confirmations} confirmations.",values:{confirmations:l.a.createElement("b",null,t.wallet.min_confirmations)}})}),l.a.createElement("div",{className:"text-center my-3"},l.a.createElement(Vt.a,{value:this.state.address,size:150,className:"img-thumbnail"})),l.a.createElement(Xt,{copyable:!0,className:"text-center my-3 cp-fs-lg"},this.state.address),l.a.createElement(Wt.a,{className:"mb-1",showIcon:!0,type:"warning",message:l.a.createElement(j.a,{defaultMessage:"Receiving on multiple addresses will cause higher transaction fee on your next external transfer. You should only generate new address when you are receiving significant funds on it.",id:"wallet.generate_new_address_warning"})})):l.a.createElement(d.a,{icon:l.a.createElement(b.a,{type:"frown",twoToneColor:Jt["@primary-color"],theme:"twoTone"}),extra:l.a.createElement("span",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"Account not found.",id:"wallet.account_not_found"})),status:"info"}))))}}])&&Gt(n.prototype,r),a&&Gt(n,a),t}(i.Component),en=Object(O.c)(Object(S.b)((function(e){var t=e.wallet;return{accounts:t.accounts,visible:t.visibleDepositModal,accountId:t.depositAccountId}}),{showDepositModal:he.n,hideDepositModal:he.k}))($t),tn=n("pc4D"),nn=n("iJl9"),rn=n.n(nn),an=n("tpxX"),on=n.n(an),cn=n("17x9"),ln=n.n(cn);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e){return(sn="function"==typeof Symbol&&"symbol"===un(Symbol.iterator)?function(e){return un(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":un(e)})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=pn(t).call(this,e),n=!a||"object"!==sn(a)&&"function"!=typeof a?mn(r):a,yn(mn(n),"convert",(function(e,t,n){var r=parseFloat(e);if(Number.isNaN(r))return"";var a=t(r);return on()(a,n).toString()})),yn(mn(n),"handlePriceChange",(function(e){n.setState({value:e.target.value,scale:"price"},(function(){n.triggerControlChange()}))})),yn(mn(n),"handleCoinChange",(function(e){n.setState({value:e.target.value,scale:"coin"},(function(){n.triggerControlChange()}))})),yn(mn(n),"toCoin",(function(e){return e/n.props.unitPrice})),yn(mn(n),"toPrice",(function(e){return e*n.props.unitPrice})),n.state={value:e.value,scale:"coin"},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,e),n=t,(r=[{key:"triggerControlChange",value:function(){var e=this.props,t=e.onChange,n=e.precision;if("function"==typeof t){var r=this.state,a=r.value,o=r.scale;if("price"===o){var c=this.convert(a,this.toCoin,n);t(parseFloat(c))}else"coin"===o&&t(parseFloat(a))}}},{key:"render",value:function(){var e=this.props,t=e.coinSymbol,n=e.currency,r=e.precision,o=this.state,i=o.value,u=o.scale,s="coin"===u?this.convert(i,this.toPrice,2):i,f="price"===u?this.convert(i,this.toCoin,r):i;return l.a.createElement("div",null,l.a.createElement(rn.a.Group,null,l.a.createElement(c.a,{gutter:8},l.a.createElement(a.a,{xs:12,style:{marginBottom:"0"}},l.a.createElement(rn.a,{addonAfter:t,onChange:this.handleCoinChange,value:f})),l.a.createElement(a.a,{xs:12,style:{marginBottom:"0"}},l.a.createElement(rn.a,{addonAfter:n,onChange:this.handlePriceChange,value:s})))))}}])&&fn(n.prototype,r),o&&fn(n,o),t}(i.Component);bn.protoType={coinSymbol:ln.a.string.isRequired,currency:ln.a.string.isRequired,unitPrice:ln.a.number.isRequired,precision:ln.a.number.isRequired};var hn=bn;function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e){return(vn="function"==typeof Symbol&&"symbol"===gn(Symbol.iterator)?function(e){return gn(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":gn(e)})(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=k.a.settings.colorPalettes,Pn=Object(Re.a)({successful:{id:"wallet.transaction_sent",defaultMessage:"Transaction was sent successfully!"}}),xn=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=En(t).call(this,e),n=!a||"object"!==vn(a)&&"function"!=typeof a?On(r):a,jn(On(n),"getTransactionFee",(function(){var e=n.getAccount();if(!e)return!1;var t=n.api,r=t.axios,a=t.route,o=n.props.form,c=o.getFieldsValue,i=a("user.wallet-account.calc-fee",{walletAccount:e.id}),l=c(["amount"]);r.post(i.url(),l).then((function(e){return Object(Z.c)(e,o,(function(e){n.setState({feeLoading:!1,fee:e.fee,formattedFee:e.formatted_fee})}))})).catch((function(e){return Object(Z.b)(e,o,l,(function(){n.setState({feeLoading:!1})}))})),n.setState({feeLoading:!0})})),jn(On(n),"hideModal",(function(){n.props.hideWithdrawModal()})),jn(On(n),"handleSubmit",(function(e){var t=n.getAccount();if(!t)return!1;var r=n.props,a=r.form,o=r.intl,c=n.api,i=c.axios,l=(0,c.route)("user.wallet-account.send",{walletAccount:t.id});a.validateFields((function(e,t){Fe()(e)&&(i.post(l.url(),t).then((function(e){return Object(Z.c)(e,a,(function(){n.setState({confirmLoading:!1}),n.hideModal(),n.triggerSuccess()}),o.formatMessage(Pn.successful))})).catch((function(e){return Object(Z.b)(e,a,t,(function(){n.setState({confirmLoading:!1})}))})),n.setState({confirmLoading:!0}))}))})),n.state={formattedFee:null,fee:0,feeLoading:!1,confirmLoading:!1},n.api=new Q.a,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getAccount",value:function(){var e=this.props,t=e.accounts,n=e.accountId;return Bt()(t,{id:n})}},{key:"calcTotal",value:function(){var e=this.getAccount();if(!e)return null;var t=this.props.form.getFieldValue,n=this.state.fee,r=e.wallet.coin.precision,a=t("amount");if("number"!=typeof a||!a)return null;var o=this.shouldChargeFee()?a+n:a;return on()(o,r)}},{key:"shouldChargeFee",value:function(){var e=(0,this.props.form.getFieldValue)("address");return!/\S+@\S+\.\S+/.test(e)}},{key:"canSubmit",value:function(){var e=this.calcTotal(),t=this.getAccount();return!!t&&"number"==typeof e&&e&&e>0&&e<=t.available}},{key:"triggerSuccess",value:function(){var e=this.props.onSuccess;if("function"==typeof e)return e()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.form,r=e.auth,o=n.getFieldDecorator,i=this.state,u=i.confirmLoading,s=i.fee,f=i.formattedFee,p=i.feeLoading,m=this.getAccount(),y=this.calcTotal(),h=r.twoFactorSetting();return l.a.createElement("div",null,l.a.createElement(Ae.a,{visible:t,confirmLoading:u,onCancel:this.hideModal,okButtonProps:{disabled:!this.canSubmit()},onOk:this.handleSubmit,destroyOnClose:!0,okText:l.a.createElement("span",null,l.a.createElement(j.a,{defaultMessage:"Confirm",id:"common.confirm"})),title:l.a.createElement(j.a,{defaultMessage:"Withdraw {coin}",id:"wallet.withdraw_modal_title",values:{coin:l.a.createElement("b",null,m?m.wallet.coin.name:"Coin")}})},m?l.a.createElement(l.a.Fragment,null,l.a.createElement(Wt.a,{showIcon:!0,message:l.a.createElement(j.a,{defaultMessage:"Please make sure you check the withdraw address information carefully before the withdraw operation. You can use email address for internal transfer to avoid transaction fee.",id:"wallet.withdrawal_info"}),type:"info"}),l.a.createElement(Ne.a,{className:"mt-3",wrapperCol:{xs:24,sm:16},labelCol:{xs:24,sm:8}},l.a.createElement(Ne.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Address",id:"common.address_or_email"})},o("address",{rules:[{required:!0}]})(l.a.createElement(rn.a,null))),l.a.createElement(Ne.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Amount",id:"common.amount"})},o("amount",{rules:[{type:"number",required:!0,min:m.min_transferable,max:m.max_transferable}]})(l.a.createElement(hn,{currency:m.user.currency,coinSymbol:m.wallet.coin.symbol,precision:m.wallet.coin.precision,unitPrice:m.price}))),this.shouldChargeFee()&&l.a.createElement(c.a,{className:"d-flex align-items-center mb-2",gutter:8},l.a.createElement(a.a,{className:"px-3",span:8},l.a.createElement("strong",null,l.a.createElement(j.a,{defaultMessage:"Fee",id:"wallet.fee"}))),l.a.createElement(a.a,{span:16},s>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"mr-1"},s),l.a.createElement("span",{className:"mr-1"},"(",f,")")),l.a.createElement(b.a,{spin:p,onClick:this.getTransactionFee,type:"sync"}))),y&&l.a.createElement(c.a,{className:"d-flex align-items-center mb-2",gutter:8},l.a.createElement(a.a,{className:"px-3",span:8},l.a.createElement("strong",null,l.a.createElement(j.a,{defaultMessage:"Total",id:"common.total"}))),l.a.createElement(a.a,{span:16},y)),l.a.createElement(c.a,{className:"d-flex align-items-center mb-2",gutter:8},l.a.createElement(a.a,{className:"px-3",span:8},l.a.createElement("strong",null,l.a.createElement(j.a,{defaultMessage:"Available",id:"common.available"}))),l.a.createElement(a.a,{span:16},l.a.createElement("span",{className:"".concat(this.canSubmit()&&"cp-text-success")},l.a.createElement("span",{className:"mr-1"},m.available),l.a.createElement("span",null,"(",m.formatted_available_price,")")))),l.a.createElement(gt.a,null,l.a.createElement(j.a,{defaultMessage:"Verify Identity",id:"wallet.verify_identity"})),h.outgoingTransfer()?l.a.createElement(Ne.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Token",id:"common.token"})},o("token",{rules:[{required:!0}]})(l.a.createElement(rn.a,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(Wt.a,{showIcon:!0,className:"mb-3",message:l.a.createElement(j.a,{defaultMessage:"You should setup two factor authentication to add an extra layer of security.",id:"wallet.validate_identity"}),type:"error"}),l.a.createElement(Ne.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Password",id:"common.password"})},o("password",{rules:[{required:!0}]})(l.a.createElement(rn.a.Password,{prefix:l.a.createElement(b.a,{type:"lock"}),autoComplete:"off"})))))):l.a.createElement(d.a,{icon:l.a.createElement(b.a,{type:"frown",twoToneColor:_n["@primary-color"],theme:"twoTone"}),extra:l.a.createElement("span",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"Account not found.",id:"wallet.account_not_found"})),status:"info"})))}}])&&wn(n.prototype,r),o&&wn(n,o),t}(i.Component),kn=Object(O.c)(Object(S.b)((function(e){var t=e.wallet,n=t.withdrawAccountId,r=t.visibleWithdrawModal,a=t.accounts,o=e.auth;return{accountId:n,visible:r,accounts:a,auth:new E.a(o)}}),{hideWithdrawModal:he.m}),Object(Le.a)())(xn),Mn=n("3Xs+"),An=n("TJpk");function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"===Cn(Symbol.iterator)?function(e){return Cn(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Cn(e)})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln=Object(Re.a)({pageTitle:{id:"meta.title.wallets",defaultMessage:"Wallets | {name}"}}),Wn=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=In(t).call(this,e),n=!a||"object"!==Nn(a)&&"function"!=typeof a?Dn(r):a,Rn(Dn(n),"fetchAccounts",(function(){n.props.fetchAccounts()})),Rn(Dn(n),"transferRecordSavedListener",(function(e){e.transferRecord&&e.transferRecord.confirmed&&n.fetchAccounts(),n.setState({recordsTableKey:Math.floor(100*Math.random())})})),n.broadcast=new H.a,n.state={recordsTableKey:"transfer-record"},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.bindBroadcastEvents(),this.fetchAccounts()}},{key:"bindBroadcastEvents",value:function(){this.resetBroadcastChannel(),this.broadcast.listen("TransferRecordSaved",this.transferRecordSavedListener)}},{key:"resetBroadcastChannel",value:function(){var e=this.props.auth;e.check()?this.broadcast.setChannel("Auth.User."+e.user.id):this.broadcast.unbind()}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.auth.user;e.auth.user.id!==r.id&&(console.log("Wallet Updated"),this.resetBroadcastChannel())}},{key:"componentWillUnmount",value:function(){this.broadcast.unbind()}},{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(Ln.pageTitle,{name:k.a.name})}},{key:"render",value:function(){var e=this.state.recordsTableKey;return l.a.createElement(l.a.Fragment,null,l.a.createElement(An.Helmet,null,l.a.createElement("title",null,this.getPageTitle())),l.a.createElement(kn,{onSuccess:this.fetchAccounts}),l.a.createElement(He,{onSuccess:this.fetchAccounts}),l.a.createElement(en,null),l.a.createElement(c.a,{gutter:8},l.a.createElement(ke,null)),l.a.createElement(c.a,{gutter:8},l.a.createElement(a.a,{lg:12,xs:24},l.a.createElement(Rt,null)),l.a.createElement(a.a,{lg:12,xs:24},l.a.createElement(dt,{key:e}))))}}])&&Tn(n.prototype,r),o&&Tn(n,o),t}(i.Component);t.default=Object(O.c)(Object(S.b)((function(e){var t=e.auth;return{auth:new E.a(t)}}),{fetchAuthUser:tn.d,fetchLocaleData:Mn.i,fetchAccounts:he.j}),_.c)(Wn)},eLk5:function(e,t,n){"use strict";var r=n("DtFj"),a=n.n(r),o=n("3OWR"),c=n.n(o),i=n("wEy/"),l=n.n(i),u=n("UfWW"),s=n.n(u),f=n("q1tI"),p=n.n(f),m=n("Falu"),d=n("mP/V");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(e){return y(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":y(e)})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==b(a)&&"function"!=typeof a?j(r):a,P(j(n),"handleTableChange",(function(e,t){n.setState((function(n){return{pagination:E(E({},n.pagination),{},{current:e.current}),filters:E(E({},n.filters),t)}}),(function(){n.fetchData()}))}));var o=e.route,c=e.pagination,i=e.filters;return n.api=new m.a,n.pagination=new d.a(n.api,o),n.state={data:[],pagination:c||{},filters:i||{},loading:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"updateItem",value:function(e,t){var n=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[n]===e[n]}:t;var r=v(this.state.data),a=s()(r,t);a>=0&&(r[a]=e),this.setState({data:r})}},{key:"removeItem",value:function(e,t){var n=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[n]===e[n]}:t;var r=v(this.state.data),a=s()(r,t);a>=0&&l()(r,(function(e,t){return t===a})),this.setState({data:r})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"applyFilter",value:function(e){var t=this;this.setState((function(t){var n=t.pagination,r=t.filters;return{pagination:c()(n,{current:1}),filters:c()(r,e)}}),(function(){t.fetchData()}))}},{key:"clearFilter",value:function(){var e=this;this.setState((function(e){var t=e.pagination;return{filters:{},pagination:c()(t,{current:1})}}),(function(){e.fetchData()}))}},{key:"fetchData",value:function(){var e=this,t=this.state,n=t.pagination,r=t.filters;this.pagination.fetchData(n,r,(function(t){e.setState((function(e){return{pagination:E(E({},e.pagination),{},{total:void 0!==t.total?t.total:t.meta.total}),data:t.data,loading:!1}}))}),(function(){e.setState({loading:!1})})),this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"render",value:function(){var e=this.props,t=(e.route,e.pagination,e.filters,g(e,["route","pagination","filters"])),n=this.state,r=n.loading,o=n.data;return p.a.createElement(a.a,h({size:"middle",rowKey:"id"},t,{pagination:this.state.pagination,onChange:this.handleTableChange,dataSource:o,loading:r}))}}])&&O(n.prototype,r),o&&O(n,o),t}(f.Component);t.a=x},wUfQ:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={base:1e3,precision:2,decimalSeparator:".",lowerCase:!1,space:!1,units:["","K","M","B","T","P","E"]},u=function(e){var t=parseFloat(e);if(Number.isNaN(t))throw new Error("Value must be a valid number");if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw new RangeError("Value is either too big or too small");return t},s=a.a.mark((function e(t,n){var r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n,o=0;case 2:if(!((c=t/r)<1)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,{result:c,count:++o};case 8:r*=n,e.next=2;break;case 11:case"end":return e.stop()}}),e)})),f=function(e,t){if(!Number.isFinite(e))throw new Error("Value must be a finite number");if(!Number.isInteger(t)||t<0)throw new Error("Precision must be a non-negative integer");return Number.isInteger(e)?e:parseFloat(e.toFixed(t))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(c({},l),t);if(!Array.isArray(n.units)||!n.units.length)throw new Error("Units must be an array");var r=u(e),a=r<0?"-":"";r=Math.abs(r);var o=0,i=!0,p=!1,m=void 0;try{for(var d,y=s(r,n.base)[Symbol.iterator]();!(i=(d=y.next()).done);i=!0){var b=d.value;r=b.result,o=b.count}}catch(e){p=!0,m=e}finally{try{i||null==y.return||y.return()}finally{if(p)throw m}}o=o>n.units.length?n.units.length-1:o;var h=n.lowerCase?n.units[o].toLowerCase():n.units[o],g=n.space?" ":"",v=f(r,n.precision),w=v.toString().replace(".",n.decimalSeparator);return"".concat(a).concat(w).concat(g).concat(h)}}};