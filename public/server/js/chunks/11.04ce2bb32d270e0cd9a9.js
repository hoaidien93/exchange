exports.ids=[11],exports.modules={"5nff":function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("ZrOX"),l=a("Q/kq"),c=a("EC67"),i=a("9xET"),u=a.n(i),s=a("Btem"),f=a.n(s),m=a("ZPTe"),p=a.n(m),y=a("mwIZ"),d=a.n(y),b=a("Y+p1"),h=a.n(b),g=a("4IMT"),_=a.n(g),E=a("HDGS"),v=a("7++0"),w=a("24R3"),S=a("zSVi"),O=a("qiO9"),M=a("eLk5"),k=a("Falu"),j=a("T0ja"),P=a("55Ip"),x=a("VWBV"),N=a("iNPk"),T=a("QprK"),F=a.n(T),C=a("TJpk");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return(I="function"==typeof Symbol&&"symbol"===A(Symbol.iterator)?function(e){return A(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":A(e)})(e)}function q(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Y=Object(v.a)({pageTitle:{id:"meta.title.marketplace_buy_coin",defaultMessage:"Buy Coin - Marketplace | {name}"}}),B=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=R(t).call(this,e),a=!o||"object"!==I(o)&&"function"!=typeof o?V(r):o,L(V(a),"applyFilter",(function(e){a.setState({drawerState:!1},(function(){a.table.applyFilter(e)}))})),L(V(a),"clearFilter",(function(){a.setState({drawerState:!1},(function(){a.table.clearFilter()}))})),L(V(a),"toggleDrawer",(function(){a.setState((function(e){return{drawerState:!e.drawerState}}))})),L(V(a),"columns",(function(){return[{title:n.a.createElement(w.a,{defaultMessage:"Seller",id:"common.seller"}),dataIndex:"user",render:function(e){return n.a.createElement(j.a,{user:e})}},{title:n.a.createElement(w.a,{defaultMessage:"Coin",id:"common.coin"}),dataIndex:"coin_name"},{title:n.a.createElement(w.a,{defaultMessage:"Payment",id:"common.payment"}),dataIndex:"payment_method",render:function(e,t){return n.a.createElement("div",{style:{whiteSpace:"nowrap"}},n.a.createElement("span",{className:"d-block"},e.name),n.a.createElement("small",null,t.label))}},{title:n.a.createElement(w.a,{defaultMessage:"Currency",id:"common.currency"}),dataIndex:"currency"},{title:n.a.createElement(w.a,{defaultMessage:"Range",id:"common.range"}),key:"range",render:function(e,t){return n.a.createElement("span",null,n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_min_amount),n.a.createElement("span",{className:"font-weight-semi-bold mx-2"},n.a.createElement(w.a,{defaultMessage:"To",id:"common.to"})),n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_real_max_amount))}},{title:n.a.createElement(w.a,{defaultMessage:"Rate",id:"common.rate"}),dataIndex:"formatted_rate"},{title:n.a.createElement(w.a,{defaultMessage:"Margin",id:"common.margin"}),dataIndex:"profit_margin",render:function(e){return"".concat(e||0,"%")}},{title:n.a.createElement(w.a,{defaultMessage:"Action",id:"common.action"}),key:"action",fixed:"right",render:function(e,t){var a=Object(c.g)(x.a["marketplace.offer"].path,{slug:t.slug});return n.a.createElement(P.a,{to:a},n.a.createElement(_.a,{type:"default",className:"cp-btn-success",size:"small"},n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Buy",id:"common.buy"}))))}}]})),a.state={drawerState:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.location,n=e.location;if(!h()(r,n)){var o=d()(r,"state.filters");this.applyFilter(o)}}},{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(Y.pageTitle,{name:F.a.name})}},{key:"render",value:function(){var e=this,t=this.state.drawerState,a=Object(k.b)("marketplace.buy-coin.table"),r=n.a.createElement(O.a,{onApplyFilter:this.applyFilter,onClearFilter:this.clearFilter});return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{lg:8,xl:6},n.a.createElement(E.a,{styleName:"d-none d-lg-block",title:n.a.createElement(w.a,{defaultMessage:"Filter Result",id:"common.filter_result"})},r)),n.a.createElement(p.a,{lg:16,xl:18},n.a.createElement("div",{className:"d-block d-lg-none"},n.a.createElement(f.a,{visible:t,onClose:this.toggleDrawer,placement:"right",title:n.a.createElement(w.a,{defaultMessage:"Filter Result",id:"common.filter_result"}),closable:!1},n.a.createElement("div",{className:"p-2"},r))),n.a.createElement(E.a,{styleName:"cp-card-table",title:n.a.createElement(w.a,{defaultMessage:"Available Offers",id:"marketplace.available_offers"}),extra:n.a.createElement(_.a,{type:"primary",shape:"circle",className:"mb-0 material-shadow d-block d-lg-none",icon:"filter",onClick:this.toggleDrawer})},n.a.createElement(M.a,{route:a.url(),columns:this.columns(),className:"mt-1",ref:function(t){return e.table=t},scroll:{x:!0,y:!1},size:"middle"})))))}}])&&q(a.prototype,r),o&&q(a,o),t}(r.Component),U=Object(N.c)(S.c)(B),z=a("3OWR"),K=a.n(z),W=a("j7zX"),G=a.n(W),H=a("Ikkh"),X=a("qu0K"),Z=a.n(X),J=a("Pbn2"),Q=a.n(J),$=a("0XPj"),ee=a.n($),te=a("7GkX"),ae=a.n(te),re=a("J2m7"),ne=a.n(re),oe=a("noZS"),le=a.n(oe),ce=a("NIJN"),ie=a.n(ce),ue=a("JZM8"),se=a.n(ue),fe=a("E+oP"),me=a.n(fe),pe=a("+vAN"),ye=a.n(pe),de=a("/MKj"),be=a("4ztd"),he=a("fVSG"),ge=a("bt/X"),_e=a.n(ge),Ee=a("FAat"),ve=a.n(Ee),we=a("vVgw"),Se=a("ATwu"),Oe=a.n(Se),Me=a("FErh"),ke=a.n(Me);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"===je(Symbol.iterator)?function(e){return je(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":je(e)})(e)}function xe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,Te(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,e),a=t,(r=[{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(N.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(N.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.marketplaceFee,r=e.paymentMethod,o=e.walletAccount,l=t.getFieldValue("currency"),c=this.getMinimumAmount(),i=(this.getMarketPricePercentage(),this.getMaximumAmount());return n.a.createElement(Oe.a,{type:"info",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(w.a,{defaultMessage:"Offer Information",id:"create_offer.buy_offer_information"})),n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},o&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You are buying coin for your {wallet} account",id:"create_offer.buy_summary_wallet_account_information",values:{wallet:n.a.createElement("b",null,o.wallet.coin.name)}})),r&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You want to pay with {method}",id:"create_offer.buy_summary_payment_method_information",values:{method:n.a.createElement("b",null,r.name)}})),a&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"The escrow fee for your selected payment method is {fee}%",id:"create_offer.sell_summary_escrow_fee_information",values:{fee:n.a.createElement("b",null,a)}})),l&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"Your preferred currency of trade is {currency}",id:"create_offer.buy_summary_currency_information",values:{currency:n.a.createElement("b",null,ke()(l))}})),c&&!i&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You accept trade starting from {minimum}!",id:"create_offer.buy_summary_minimum_amount_information",values:{minimum:n.a.createElement("b",null,c)}})),i&&c&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You accept trade between {minimum} and {maximum}!",id:"create_offer.buy_summary_amount_range_information",values:{minimum:n.a.createElement("b",null,c),maximum:n.a.createElement("b",null,i)}})))),showIcon:!0})}}])&&xe(a.prototype,r),o&&xe(a,o),t}(r.Component),Ae=a("mLH4");function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e){return(qe="function"==typeof Symbol&&"symbol"===Ie(Symbol.iterator)?function(e){return Ie(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ie(e)})(e)}function Re(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=ve.a.Option,Be=ve.a.OptGroup,Ue=Object(v.a)({paymentMethod:{id:"create_offer.buy_select_payment_method_placeholder",defaultMessage:"Select payment method..."},currency:{id:"create_offer.buy_select_currency_placeholder",defaultMessage:"Select currency..."},walletAccount:{id:"create_offer.buy_select_wallet_account_placeholder",defaultMessage:"Select wallet account..."}}),ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ve(this,De(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.intl,r=t.accounts,o=t.currencies,l=t.paymentMethods,c=t.marketplaceFee,i=t.auth,s=t.form,f=t.visible,m=t.paymentMethod,y=t.walletAccount,d=_e()(l,(function(e){return e.category.name})),b=i.user.location;return n.a.createElement(u.a,{className:"".concat(f?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Wallet Account",id:"create_offer.buy_select_wallet_account_label"}),extra:n.a.createElement(w.a,{defaultMessage:"Select your wallet account to receive funds into!",id:"create_offer.buy_select_wallet_account_extra"})},e("wallet_account",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:a.formatMessage(Ue.walletAccount),optionFilterProp:"children"},r.map((function(e){return n.a.createElement(Ye,{key:e.id,value:e.id},e.wallet.coin.name)}))))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Fulfill payment with",id:"create_offer.buy_select_payment_method_label"})},e("payment_method",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:a.formatMessage(Ue.paymentMethod),optionFilterProp:"children"},ae()(d).map((function(e,t){return n.a.createElement(Be,{key:t,label:e},d[e].map((function(e){return n.a.createElement(Ye,{key:e.id,value:e.id},e.name)})))}))))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Specify currency to trade with",id:"create_offer.buy_select_currency_label"}),extra:n.a.createElement(w.a,{defaultMessage:"Your offer will be posted for the selected currency.",id:"create_offer.buy_select_currency_extra"})},e("currency",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:a.formatMessage(Ue.currency),optionFilterProp:"children"},ae()(o).map((function(e){return n.a.createElement(Ye,{key:e,value:e},o[e].name," (",o[e].code,")")})))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(w.a,{defaultMessage:"About this page",id:"create_offer.buy_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"We provide support for several payment methods. You can always suggest a new one for our team to consider.",id:"create_offer.buy_payment_method_information"})),b&&n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"This offer will be listed under your country: {country}. This is used to improve the search algorithm, your offers will still be visible for all.",id:"create_offer.buy_country_information",values:{country:n.a.createElement("b",null,n.a.createElement("span",{className:"mr-2"},b.country),n.a.createElement(Ae.a,{code:b.iso_code}))}})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Ce,{marketplaceFee:c,paymentMethod:m,walletAccount:y,form:s})))))}}])&&Re(a.prototype,r),o&&Re(a,o),t}(r.Component),Ke=Object(N.c)(Object(de.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new we.a(t),currencies:a}})))(ze),We=a("5Dct"),Ge=a.n(We);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"===He(Symbol.iterator)?function(e){return He(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":He(e)})(e)}function Ze(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ve.a.Option,ve.a.OptGroup;var et=function(e){function t(e){var a,r,n,o,l,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=Je(t).call(this,e),a=!n||"object"!==Xe(n)&&"function"!=typeof n?Qe(r):n,o=Qe(a),c=function(){var e=a.api,t=e.axios,r=(0,e.route)("marketplace.create-offer.price"),n=a.props,o=n.walletAccount,l=n.form.getFieldValue;a.setState({marketPriceLoading:!0});var c={wallet:o.wallet.id,currency:l("currency")};t.post(r.url(),c).then((function(e){return Object(he.d)(e,(function(e){a.setState({marketPrice:e.price,marketPriceLoading:!1})}))})).catch((function(e){return Object(he.a)(e,(function(){a.setState({marketPriceLoading:!1})}))}))},(l="fetchMarketPrice")in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,a.api=new k.a,a.state={marketPrice:null,marketPriceLoading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,e),a=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(N.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(N.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.state,t=e.marketPrice,a=e.marketPriceLoading,r=this.props,o=(r.intl,r.accounts,r.currencies,r.visible),l=r.form,c=r.marketplaceFee,i=r.paymentMethod,s=r.walletAccount,f=l.getFieldDecorator,m=l.getFieldValue,y=(this.getMinimumAmount(),this.getMarketPricePercentage()),d=(this.getMaximumAmount(),m("currency"));return n.a.createElement(u.a,{className:"".concat(o?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(Z.a.Item,{labelAlign:"left",wrapperCol:{xs:16},labelCol:{xs:8},label:n.a.createElement(w.a,{defaultMessage:"Margin",id:"create_offer.buy_input_margin_label"}),extra:n.a.createElement("span",{className:"d-flex align-items-center"},t&&!isNaN(y)&&n.a.createElement("span",{className:"mr-2"},n.a.createElement(w.a,{defaultMessage:"The current market price is {marketPrice} while this offer will be sold for {price}",id:"create_offer.buy_input_margin_extra",values:{price:n.a.createElement("b",null,Object(N.a)(y*t/100,d)),marketPrice:n.a.createElement("b",null,Object(N.a)(t,d))}})),n.a.createElement(Q.a,{spin:a,onClick:this.fetchMarketPrice,type:"sync"}))},f("profit_margin",{initialValue:5,rules:[{type:"number",required:!0}]})(n.a.createElement(Ge.a,{style:{width:"100%"}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Min Amount",id:"create_offer.buy_input_min_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("min_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ge.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Max Amount",id:"create_offer.buy_input_max_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("max_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ge.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Time Frame",id:"create_offer.buy_input_confirmation_time_frame_label"}),extra:n.a.createElement(w.a,{defaultMessage:"Indicates the amount of time in {minutes} you will be able make their payment. The trade will automatically be canceled if you have not clicked {confirmed} button before the above payment window expires.",id:"create_offer.buy_input_confirmation_time_frame_extra",values:{confirmed:n.a.createElement("b",null,n.a.createElement(w.a,{defaultMessage:"Mark as Paid",id:"common.buy_mark_as_paid"})),minutes:n.a.createElement("b",null,"minutes")}}),wrapperCol:{xs:16},labelCol:{xs:8}},f("confirmation_time_frame",{rules:[{type:"number",required:!0,min:30,max:4350}]})(n.a.createElement(Ge.a,{min:1,step:1,style:{width:"100%"}})))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(w.a,{defaultMessage:"About this page",id:"create_offer.buy_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"Sellers often look for the best value and great vendor ratings. Choose a margin that you think your target seller will find attractive. Here, you can set your exact offers limits, and advanced options.",id:"create_offer.buy_margin_information"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Ce,{marketplaceFee:c,form:l,paymentMethod:i,walletAccount:s})))))}}])&&Ze(a.prototype,r),o&&Ze(a,o),t}(r.Component),tt=Object(N.c)(Object(de.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new we.a(t),currencies:a}}),null,null,{forwardRef:!0}))(et),at=a("g4D/"),rt=a.n(at),nt=a("qPIi"),ot=a.n(nt),lt=a("UIqZ"),ct=a.n(lt),it=a("iJl9"),ut=a.n(it);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e){return(ft="function"==typeof Symbol&&"symbol"===st(Symbol.iterator)?function(e){return st(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":st(e)})(e)}function mt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=ut.a.TextArea,ht=ve.a.Option,gt=Object(v.a)({label:{id:"create_offer.buy_input_label_placeholder",defaultMessage:"Maximum of 25 characters..."},country:{id:"create_offer.buy_select_country_placeholder",defaultMessage:"Choose country of offer..."},tags:{id:"create_offer.buy_select_tags_placeholder",defaultMessage:"Select up to 3 tags..."}}),_t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pt(this,yt(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,this.props),r=a.tags,o=a.visible,l=a.paymentMethod,c=a.form,i=a.intl,s=(a.accounts,a.currencies,a.countries),f=a.walletAccount,m=a.marketplaceFee,y=a.auth;return n.a.createElement(u.a,{className:"".concat(o?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Terms",id:"create_offer.buy_input_terms_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This will be shown to seller before starting a trade",id:"create_offer.buy_input_terms_extra"})},t("terms",{rules:[{required:!0}]})(n.a.createElement(bt,{autoSize:{minRows:5}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Instruction",id:"create_offer.buy_input_instruction_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This will be shown to seller after starting a trade",id:"create_offer.buy_input_instruction_extra"})},t("instructions",{rules:[{required:!0}]})(n.a.createElement(bt,{autoSize:{minRows:5}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Label",id:"create_offer.buy_input_label_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This will appear after your payment method",id:"create_offer.buy_input_label_extra"})},t("label",{rules:[{required:!0,max:25}]})(n.a.createElement(ut.a,{placeholder:i.formatMessage(gt.label)}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Tags",id:"create_offer.buy_select_tags_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This is used to improve search presence of your offer.",id:"create_offer.buy_select_tags_extra"})},t("tags",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,mode:"multiple",placeholder:i.formatMessage(gt.tags),optionFilterProp:"children"},r.map((function(e){return n.a.createElement(ht,{key:e.id,value:e.name},e.name)}))))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Country",id:"create_offer.buy_select_country_label"})},t("country",{initialValue:d()(y.user,"location.iso_code"),rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:i.formatMessage(gt.country),optionFilterProp:"children"},ae()(s).map((function(e){return n.a.createElement(ht,{key:e,value:ke()(e)},s[e])}))))),n.a.createElement(ct.a,null,n.a.createElement(w.a,{defaultMessage:"Privacy",id:"create_offer.buy_privacy"})),n.a.createElement(Z.a.Item,null,t("privacy",{initialValue:"none"})(n.a.createElement(ot.a.Group,null,n.a.createElement(ot.a,{value:"none",className:"d-block my-3"},n.a.createElement(w.a,{defaultMessage:"None",id:"create_offer.buy_filter_none"})),n.a.createElement(ot.a,{value:"all_contacts",className:"d-block my-3"},n.a.createElement(w.a,{defaultMessage:"Show your contacts only",id:"create_offer.buy_filter_all_contacts"})),n.a.createElement(ot.a,{value:"trusted_contacts",className:"d-block my-3"},n.a.createElement(w.a,{defaultMessage:"Show your trusted contacts only",id:"create_offer.buy_filter_trusted_contacts"}))))),n.a.createElement(ct.a,null,n.a.createElement(w.a,{defaultMessage:"Requirements",id:"create_offer.buy_requirements"})),n.a.createElement(Z.a.Item,{className:"mb-1"},t("require_phone_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(rt.a,null,n.a.createElement(w.a,{defaultMessage:"Require Phone Verification",id:"create_offer.buy_require_phone_verification"})))),n.a.createElement(Z.a.Item,{className:"mb-1"},t("require_email_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(rt.a,null,n.a.createElement(w.a,{defaultMessage:"Require Email Verification",id:"create_offer.buy_require_email_verification"}))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(w.a,{defaultMessage:"About this page",id:"create_offer.buy_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"When a customer clicks into your offer, your terms and instructions will tell them what to provide during the trade.",id:"create_offer.buy_terms_of_trade_information"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"You also have the option of moderating who is able to see and who is able to start trade with your offer.",id:"create_offer.buy_filter_requirements_information"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Ce,{marketplaceFee:m,paymentMethod:l,walletAccount:f,form:c})))))}}])&&mt(a.prototype,r),o&&mt(a,o),t}(r.Component),Et=Object(N.c)(Object(de.b)((function(e){var t=e.auth,a=e.collections,r=a.currencies,n=a.countries;return{accounts:e.wallet.accounts,auth:new we.a(t),currencies:r,countries:n}})))(_t),vt=a("BflS");function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e){return(St="function"==typeof Symbol&&"symbol"===wt(Symbol.iterator)?function(e){return wt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wt(e)})(e)}function Ot(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var xt=ye.a.Step,Nt=Object(v.a)({createdSuccessful:{id:"create_offer.offer_created",defaultMessage:"Offer created successfully!."},updatedSuccessful:{id:"create_offer.offer_updated",defaultMessage:"Offer updated successfully!."}}),Tt=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=Mt(t).call(this,e),a=!n||"object"!==St(n)&&"function"!=typeof n?kt(r):n,Pt(kt(a),"handleSubmit",(function(e){e.preventDefault();var t=a.props,r=t.form,n=t.intl,o=t.history,l=t.offer,i=a.api,u=i.axios,s=(0,i.route)("marketplace.create-offer.buy");r.validateFields((function(e,t){me()(e)?(l&&l.id&&(t=K()({},t,{id:l.id})),u.post(s.url(),t).then((function(e){return Object(he.c)(e,r,(function(e){a.setState({confirmLoading:!1});var t=Object(c.g)(x.a["marketplace.offer"].path,{slug:e.slug});me()(o)||o.replace(t)}),l&&l.id?n.formatMessage(Nt.updatedSuccessful):n.formatMessage(Nt.createdSuccessful))})).catch((function(e){return Object(he.b)(e,r,t,(function(){if(a.setState({confirmLoading:!1}),e.response&&e.response.data){var t=e.response.data.errors;me()(t)||a.handleErrors(t)}}))})),a.setState({confirmLoading:!0})):a.handleErrors(e)}))})),Pt(kt(a),"scrollToTop",(function(){if(a.props.layoutType===vt.b){if("undefined"!=typeof document){var e=document.getElementById("root");e&&e.scrollTo({top:0,behavior:"smooth"})}}else"undefined"!=typeof window&&window.scrollTo({top:0,behavior:"smooth"})})),a.api=new k.a,a.state={current:0,confirmLoading:!1},a.paymentSetupFields=["wallet_account","payment_method","currency"],a.profitMarginFields=["profit_margin","min_amount","max_amount","confirmation_time_frame"],a.termsOfTradeFields=["terms","instructions","label","tags","privacy","require_phone_verification","require_email_verification"],a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.setOfferFields()}},{key:"setOfferFields",value:function(){var e=this.props,t=e.offer,a=e.form;if(!me()(t)){var r=se()(t,ie()(this.paymentSetupFields,this.profitMarginFields,this.termsOfTradeFields)),n=le()(r,(function(e){return"object"!==St(e)||null===e||Array.isArray(e)?e:e.id||null}));a.setFieldsValue(n)}}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMarketPlaceFee",value:function(){var e=this.props,t=e.accounts,a=e.form,r=e.paymentMethods,n=a.getFieldValue("wallet_account");n&&(this.walletAccount=ne()(t,{id:n}));var o=a.getFieldValue("payment_method");if(o&&(this.paymentMethod=ne()(r,{id:o})),this.walletAccount&&this.paymentMethod){var l=this.walletAccount.wallet,c=this.paymentMethod.wallet_fees,i=ne()(c,{wallet_id:l.id});return i&&i.marketplace_fee||l.marketplace_fee}}},{key:"handleErrors",value:function(e){var t=this,a=ae()(e),r=ee()(a,this.paymentSetupFields),n=ee()(a,this.profitMarginFields);r.length>0?this.setState({current:0},(function(){t.scrollToTop()})):n.length>0?this.setState({current:1},(function(){t.scrollToTop()})):this.setState({current:2},(function(){t.scrollToTop()}))}},{key:"next",value:function(){var e=this,t=this.state.current,a=this.props.form;0===t&&a.validateFields(this.paymentSetupFields,(function(t){me()(t)&&e.setState({current:1},(function(){e.scrollToTop(),e.profitMarginRef.fetchMarketPrice()}))})),1===t&&a.validateFields(this.profitMarginFields,(function(t){me()(t)&&e.setState({current:2},(function(){e.scrollToTop()}))}))}},{key:"prev",value:function(){var e=this,t=this.state.current;this.setState({current:t-1},(function(){e.scrollToTop()}))}},{key:"render",value:function(){var e=this,t=this.getMarketPlaceFee(),a=this.props,r=a.intl,o=a.form,l=a.offer,c=a.paymentMethods,i=a.marketplaceTags,u=this.state,s=u.current,f=u.confirmLoading;return n.a.createElement("div",null,n.a.createElement(E.a,{title:l&&l.id?n.a.createElement(w.a,{defaultMessage:"Edit Buy Offer",id:"marketplace.edit_buy_offer"}):n.a.createElement(w.a,{defaultMessage:"Create Buy Offer",id:"marketplace.create_buy_offer"})},n.a.createElement("div",{className:"mb-5 d-none d-sm-flex"},n.a.createElement(ye.a,{current:s},n.a.createElement(xt,{title:n.a.createElement(w.a,{defaultMessage:"Payment Setup",id:"create_offer.buy_payment_setup"}),description:n.a.createElement(w.a,{defaultMessage:"Choose currency.",id:"create_offer.buy_payment_setup_desc"})}),n.a.createElement(xt,{title:n.a.createElement(w.a,{defaultMessage:"Profit Margin",id:"create_offer.buy_profit_margin"}),description:n.a.createElement(w.a,{defaultMessage:"Set trade limits.",id:"create_offer.buy_profit_margin_desc"})}),n.a.createElement(xt,{title:n.a.createElement(w.a,{defaultMessage:"Terms of Trade",id:"create_offer.buy_terms_of_trade"}),description:n.a.createElement(w.a,{defaultMessage:"State your terms.",id:"create_offer.buy_terms_of_trade_desc"})}))),n.a.createElement("div",{className:"mt-3"},n.a.createElement(Z.a,{onSubmit:this.handleSubmit},n.a.createElement(Ke,{intl:r,form:o,marketplaceFee:t,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,paymentMethods:c,visible:0===s}),n.a.createElement(tt,{intl:r,form:o,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,ref:function(t){return e.profitMarginRef=t},visible:1===s}),n.a.createElement(Et,{intl:r,form:o,tags:i,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,visible:2===s}),n.a.createElement(Z.a.Item,{className:"mt-4",wrapperCol:{xl:{offset:16}}},n.a.createElement("div",{className:"px-xl-3"},s>0&&n.a.createElement(_.a,{onClick:function(){return e.prev()},type:"default"},n.a.createElement(Q.a,{type:"double-left"}),n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Previous",id:"common.buy_previous"}))),s<2&&n.a.createElement(_.a,{className:"cp-btn-primary",onClick:function(){return e.next()},type:"default"},n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Next",id:"common.buy_next"})),n.a.createElement(Q.a,{type:"double-right"})),2===s&&n.a.createElement(_.a,{type:"default",loading:f,icon:"save",className:"cp-btn-success",htmlType:"submit"},n.a.createElement("span",null,l&&l.id?n.a.createElement(w.a,{defaultMessage:"Edit Offer",id:"common.buy_edit_offer"}):n.a.createElement(w.a,{defaultMessage:"Create Offer",id:"common.buy_create_offer"})))))))))}}])&&Ot(a.prototype,r),o&&Ot(a,o),t}(r.Component),Ft=Object(N.c)(Object(de.b)((function(e){var t=e.settings.layoutType,a=e.collections,r=a.marketplaceTags,n=a.currencies,o=a.paymentMethods;return{layoutType:t,accounts:e.wallet.accounts,marketplaceTags:r,currencies:n,paymentMethods:o}})),Object(be.a)(),c.i)(Tt);function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e){return(At="function"==typeof Symbol&&"symbol"===Ct(Symbol.iterator)?function(e){return Ct(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ct(e)})(e)}function It(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,Rt(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,e),a=t,(r=[{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(N.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(N.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.marketplaceFee,r=e.paymentMethod,o=e.walletAccount,l=t.getFieldValue("currency"),c=this.getMinimumAmount(),i=(this.getMarketPricePercentage(),this.getMaximumAmount());return n.a.createElement(Oe.a,{type:"info",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(w.a,{defaultMessage:"Offer Information",id:"create_offer.sell_offer_information"})),n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},o&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You are selling from your {wallet} account",id:"create_offer.sell_summary_wallet_account_information",values:{wallet:n.a.createElement("b",null,o.wallet.coin.name)}})),r&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You want to get paid with {method}",id:"create_offer.sell_summary_payment_method_information",values:{method:n.a.createElement("b",null,r.name)}})),a&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"The escrow fee for your selected payment method is {fee}%",id:"create_offer.sell_summary_escrow_fee_information",values:{fee:n.a.createElement("b",null,a)}})),l&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"Your preferred currency of trade is {currency}",id:"create_offer.sell_summary_currency_information",values:{currency:n.a.createElement("b",null,ke()(l))}})),c&&!i&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You accept trade starting from {minimum}!",id:"create_offer.sell_summary_minimum_amount_information",values:{minimum:n.a.createElement("b",null,c)}})),i&&c&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You accept trade between {minimum} and {maximum}!",id:"create_offer.sell_summary_amount_range_information",values:{minimum:n.a.createElement("b",null,c),maximum:n.a.createElement("b",null,i)}})))),showIcon:!0})}}])&&It(a.prototype,r),o&&It(a,o),t}(r.Component);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"===Lt(Symbol.iterator)?function(e){return Lt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Lt(e)})(e)}function Bt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wt=ve.a.Option,Gt=ve.a.OptGroup,Ht=Object(v.a)({paymentMethod:{id:"create_offer.sell_select_payment_method_placeholder",defaultMessage:"Select payment method..."},currency:{id:"create_offer.sell_select_currency_placeholder",defaultMessage:"Select currency..."},walletAccount:{id:"create_offer.sell_select_wallet_account_placeholder",defaultMessage:"Select wallet account..."}}),Xt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ut(this,zt(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.intl,r=t.accounts,o=t.currencies,l=t.paymentMethods,c=t.marketplaceFee,i=t.auth,s=t.form,f=t.visible,m=t.paymentMethod,y=t.walletAccount,d=_e()(l,(function(e){return e.category.name})),b=i.user.location;return n.a.createElement(u.a,{className:"".concat(f?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Sell from Wallet Account",id:"create_offer.sell_select_wallet_account_label"}),extra:n.a.createElement(w.a,{defaultMessage:"Select your wallet account to sell from!",id:"create_offer.sell_select_wallet_account_extra"})},e("wallet_account",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:a.formatMessage(Ht.walletAccount),optionFilterProp:"children"},r.map((function(e){return n.a.createElement(Wt,{key:e.id,value:e.id},e.wallet.coin.name)}))))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Receive payment with",id:"create_offer.sell_select_payment_method_label"})},e("payment_method",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:a.formatMessage(Ht.paymentMethod),optionFilterProp:"children"},ae()(d).map((function(e,t){return n.a.createElement(Gt,{key:t,label:e},d[e].map((function(e){return n.a.createElement(Wt,{key:e.id,value:e.id},e.name)})))}))))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Specify currency to trade with",id:"create_offer.sell_select_currency_label"}),extra:n.a.createElement(w.a,{defaultMessage:"Your offer will be posted for the selected currency.",id:"create_offer.sell_select_currency_extra"})},e("currency",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:a.formatMessage(Ht.currency),optionFilterProp:"children"},ae()(o).map((function(e){return n.a.createElement(Wt,{key:e,value:e},o[e].name," (",o[e].code,")")})))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(w.a,{defaultMessage:"About this page",id:"create_offer.sell_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"We provide support for several payment methods. You can always suggest a new one for our team to consider. ",id:"create_offer.sell_payment_method_information"})),b&&n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"This offer will be listed under your country: {country}. This is used to improve the search algorithm, your offers will still be visible for all.",id:"create_offer.sell_country_information",values:{country:n.a.createElement("b",null,n.a.createElement("span",{className:"mr-2"},b.country),n.a.createElement(Ae.a,{code:b.iso_code}))}})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Dt,{marketplaceFee:c,paymentMethod:m,walletAccount:y,form:s})))))}}])&&Bt(a.prototype,r),o&&Bt(a,o),t}(r.Component),Zt=Object(N.c)(Object(de.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new we.a(t),currencies:a}})))(Xt);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"===Jt(Symbol.iterator)?function(e){return Jt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Jt(e)})(e)}function $t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ve.a.Option,ve.a.OptGroup;var ra=function(e){function t(e){var a,r,n,o,l,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=ea(t).call(this,e),a=!n||"object"!==Qt(n)&&"function"!=typeof n?ta(r):n,o=ta(a),c=function(){var e=a.api,t=e.axios,r=(0,e.route)("marketplace.create-offer.price"),n=a.props,o=n.walletAccount,l=n.form.getFieldValue;a.setState({marketPriceLoading:!0});var c={wallet:o.wallet.id,currency:l("currency")};t.post(r.url(),c).then((function(e){return Object(he.d)(e,(function(e){a.setState({marketPrice:e.price,marketPriceLoading:!1})}))})).catch((function(e){return Object(he.a)(e,(function(){a.setState({marketPriceLoading:!1})}))}))},(l="fetchMarketPrice")in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,a.api=new k.a,a.state={marketPrice:null,marketPriceLoading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(t,e),a=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(N.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(N.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.state,t=e.marketPrice,a=e.marketPriceLoading,r=this.props,o=(r.intl,r.accounts,r.currencies,r.visible),l=r.form,c=r.marketplaceFee,i=r.paymentMethod,s=r.walletAccount,f=l.getFieldDecorator,m=l.getFieldValue,y=this.getMinimumAmount(),d=this.getMarketPricePercentage(),b=this.getMaximumAmount(),h=m("currency");return n.a.createElement(u.a,{className:"".concat(o?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(Z.a.Item,{labelAlign:"left",wrapperCol:{xs:16},labelCol:{xs:8},label:n.a.createElement(w.a,{defaultMessage:"Margin",id:"create_offer.sell_input_margin_label"}),extra:n.a.createElement("span",{className:"d-flex align-items-center"},t&&!isNaN(d)&&n.a.createElement("span",{className:"mr-2"},n.a.createElement(w.a,{defaultMessage:"The current market price is {marketPrice} while this offer will be sold for {price}",id:"create_offer.sell_input_margin_extra",values:{price:n.a.createElement("b",null,Object(N.a)(d*t/100,h)),marketPrice:n.a.createElement("b",null,Object(N.a)(t,h))}})),n.a.createElement(Q.a,{spin:a,onClick:this.fetchMarketPrice,type:"sync"}))},f("profit_margin",{initialValue:5,rules:[{type:"number",required:!0}]})(n.a.createElement(Ge.a,{style:{width:"100%"}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Min Amount",id:"create_offer.sell_input_min_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("min_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ge.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Max Amount",id:"create_offer.sell_input_max_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("max_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ge.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Time Frame",id:"create_offer.sell_input_confirmation_time_frame_label"}),extra:n.a.createElement(w.a,{defaultMessage:"Indicates the amount of time in {minutes} your buyer has to make their payment. The trade will automatically be canceled if the buyer has not clicked {confirmed} before the payment window expires.",id:"create_offer.sell_input_confirmation_time_frame_extra",values:{confirmed:n.a.createElement("b",null,n.a.createElement(w.a,{defaultMessage:"Mark as Paid",id:"common.sell_mark_as_paid"})),minutes:n.a.createElement("b",null,"minutes")}}),wrapperCol:{xs:16},labelCol:{xs:8}},f("confirmation_time_frame",{rules:[{type:"number",required:!0,min:30,max:4350}]})(n.a.createElement(Ge.a,{min:1,step:1,style:{width:"100%"}})))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(w.a,{defaultMessage:"About this page",id:"create_offer.sell_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"Buyers often look for the best value and great vendor ratings. Choose a margin that you think your target buyers will find attractive. Here, you can set your exact offers limits, and advanced options.",id:"create_offer.sell_margin_information"})),n.a.createElement("div",null,(b||y)&&n.a.createElement(Oe.a,{type:"warning",message:n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Your offer will not be shown to the public unless you comply with the following:",id:"create_offer.sell_offer_visibility_info"})),n.a.createElement("ul",{className:"mt-2 pl-3"},b&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"Your wallet account has at least {maximum} available, which is the maximum amount of your offer!",id:"create_offer.sell_offer_visibility_max_amount_requirement",values:{maximum:n.a.createElement("b",null,b)}})),!b&&y&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"Your wallet account has at least {minimum} available, which is the minimum amount of your offer!",id:"create_offer.sell_offer_visibility_min_amount_requirement",values:{minimum:n.a.createElement("b",null,y)}})))),showIcon:!0})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Dt,{marketplaceFee:c,form:l,paymentMethod:i,walletAccount:s})))))}}])&&$t(a.prototype,r),o&&$t(a,o),t}(r.Component),na=Object(N.c)(Object(de.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new we.a(t),currencies:a}}),null,null,{forwardRef:!0}))(ra);function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e){return(la="function"==typeof Symbol&&"symbol"===oa(Symbol.iterator)?function(e){return oa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":oa(e)})(e)}function ca(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t){return!t||"object"!==la(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fa=ut.a.TextArea,ma=ve.a.Option,pa=Object(v.a)({label:{id:"create_offer.input_label_placeholder",defaultMessage:"Maximum of 25 characters..."},country:{id:"create_offer.sell_select_country_placeholder",defaultMessage:"Choose country of offer..."},tags:{id:"create_offer.select_tags_placeholder",defaultMessage:"Select up to 3 tags..."}}),ya=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ia(this,ua(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,this.props),r=a.paymentMethod,o=a.walletAccount,l=a.visible,c=a.intl,i=(a.accounts,a.currencies,a.countries),s=a.marketplaceFee,f=a.form,m=a.tags,y=a.auth;return n.a.createElement(u.a,{className:"".concat(l?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Terms",id:"create_offer.sell_input_terms_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This will be shown to buyer before starting a trade",id:"create_offer.sell_input_terms_extra"})},t("terms",{rules:[{required:!0}]})(n.a.createElement(fa,{autoSize:{minRows:5}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Instruction",id:"create_offer.sell_input_instruction_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This will be shown to buyer after starting a trade",id:"create_offer.sell_input_instruction_extra"})},t("instructions",{rules:[{required:!0}]})(n.a.createElement(fa,{autoSize:{minRows:5}}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Label",id:"create_offer.sell_input_label_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This will appear after your payment method",id:"create_offer.sell_input_label_extra"})},t("label",{rules:[{required:!0,max:25}]})(n.a.createElement(ut.a,{placeholder:c.formatMessage(pa.label)}))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Tags",id:"create_offer.sell_select_tags_label"}),extra:n.a.createElement(w.a,{defaultMessage:"This is used to improve search presence of your offer.",id:"create_offer.sell_select_tags_extra"})},t("tags",{rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,mode:"multiple",placeholder:c.formatMessage(pa.tags),optionFilterProp:"children"},m.map((function(e){return n.a.createElement(ma,{key:e.id,value:e.name},e.name)}))))),n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Country",id:"create_offer.sell_select_country_label"})},t("country",{initialValue:d()(y.user,"location.iso_code"),rules:[{required:!0}]})(n.a.createElement(ve.a,{showSearch:!0,placeholder:c.formatMessage(pa.country),optionFilterProp:"children"},ae()(i).map((function(e){return n.a.createElement(ma,{key:e,value:ke()(e)},i[e])}))))),n.a.createElement(ct.a,null,n.a.createElement(w.a,{defaultMessage:"Privacy",id:"create_offer.sell_privacy"})),n.a.createElement(Z.a.Item,null,t("privacy",{initialValue:"none"})(n.a.createElement(ot.a.Group,null,n.a.createElement(ot.a,{value:"none",className:"d-block my-3"},n.a.createElement(w.a,{defaultMessage:"None",id:"create_offer.sell_filter_none"})),n.a.createElement(ot.a,{value:"all_contacts",className:"d-block my-3"},n.a.createElement(w.a,{defaultMessage:"Show your contacts only",id:"create_offer.sell_filter_all_contacts"})),n.a.createElement(ot.a,{value:"trusted_contacts",className:"d-block my-3"},n.a.createElement(w.a,{defaultMessage:"Show your trusted contacts only",id:"create_offer.sell_filter_trusted_contacts"}))))),n.a.createElement(ct.a,null,n.a.createElement(w.a,{defaultMessage:"Requirements",id:"create_offer.sell_requirements"})),n.a.createElement(Z.a.Item,{className:"mb-1"},t("require_phone_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(rt.a,null,n.a.createElement(w.a,{defaultMessage:"Require Phone Verification",id:"create_offer.sell_require_phone_verification"})))),n.a.createElement(Z.a.Item,{className:"mb-1"},t("require_email_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(rt.a,null,n.a.createElement(w.a,{defaultMessage:"Require Email Verification",id:"create_offer.sell_require_email_verification"}))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(w.a,{defaultMessage:"About this page",id:"create_offer.sell_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"When a customer clicks into your offer, your terms and instructions will tell them what to provide during the trade.",id:"create_offer.sell_terms_of_trade_information"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(w.a,{defaultMessage:"You also have the option of moderating who is able to see and who is able to start trade with your offer.",id:"create_offer.sell_filter_requirements_information"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Dt,{marketplaceFee:s,paymentMethod:r,walletAccount:o,form:f})))))}}])&&ca(a.prototype,r),o&&ca(a,o),t}(r.Component),da=Object(N.c)(Object(de.b)((function(e){var t=e.auth,a=e.collections,r=a.currencies,n=a.countries;return{accounts:e.wallet.accounts,auth:new we.a(t),currencies:r,countries:n}})))(ya);function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e){return(ha="function"==typeof Symbol&&"symbol"===ba(Symbol.iterator)?function(e){return ba(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ba(e)})(e)}function ga(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Sa=ye.a.Step,Oa=Object(v.a)({createdSuccessful:{id:"create_offer.offer_created",defaultMessage:"Offer created successfully!."},updatedSuccessful:{id:"create_offer.offer_updated",defaultMessage:"Offer updated successfully!."}}),Ma=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=_a(t).call(this,e),a=!n||"object"!==ha(n)&&"function"!=typeof n?Ea(r):n,wa(Ea(a),"handleSubmit",(function(e){e.preventDefault();var t=a.props,r=t.form,n=t.intl,o=t.history,l=t.offer,i=a.api,u=i.axios,s=(0,i.route)("marketplace.create-offer.sell");r.validateFields((function(e,t){me()(e)?(l&&l.id&&(t=K()({},t,{id:l.id})),u.post(s.url(),t).then((function(e){return Object(he.c)(e,r,(function(e){a.setState({confirmLoading:!1});var t=Object(c.g)(x.a["marketplace.offer"].path,{slug:e.slug});me()(o)||o.replace(t)}),l&&l.id?n.formatMessage(Oa.updatedSuccessful):n.formatMessage(Oa.createdSuccessful))})).catch((function(e){return Object(he.b)(e,r,t,(function(){if(a.setState({confirmLoading:!1}),e.response&&e.response.data){var t=e.response.data.errors;me()(t)||a.handleErrors(t)}}))})),a.setState({confirmLoading:!0})):a.handleErrors(e)}))})),wa(Ea(a),"scrollToTop",(function(){if(a.props.layoutType===vt.b){if("undefined"!=typeof document){var e=document.getElementById("root");e&&e.scrollTo({top:0,behavior:"smooth"})}}else"undefined"!=typeof window&&window.scrollTo({top:0,behavior:"smooth"})})),a.api=new k.a,a.state={current:0,confirmLoading:!1},a.paymentSetupFields=["wallet_account","payment_method","currency"],a.profitMarginFields=["profit_margin","min_amount","max_amount","confirmation_time_frame"],a.termsOfTradeFields=["terms","instructions","label","tags","privacy","require_phone_verification","require_email_verification"],a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.setOfferFields()}},{key:"setOfferFields",value:function(){var e=this.props,t=e.offer,a=e.form;if(t&&t.id){var r=se()(t,ie()(this.paymentSetupFields,this.profitMarginFields,this.termsOfTradeFields)),n=le()(r,(function(e){return"object"!==ha(e)||null===e||Array.isArray(e)?e:e.id||null}));a.setFieldsValue(n)}}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMarketPlaceFee",value:function(){var e=this.props,t=e.accounts,a=e.form,r=e.paymentMethods,n=a.getFieldValue("wallet_account");n&&(this.walletAccount=ne()(t,{id:n}));var o=a.getFieldValue("payment_method");if(o&&(this.paymentMethod=ne()(r,{id:o})),this.walletAccount&&this.paymentMethod){var l=this.walletAccount.wallet,c=this.paymentMethod.wallet_fees,i=ne()(c,{wallet_id:l.id});return i&&i.marketplace_fee||l.marketplace_fee}}},{key:"handleErrors",value:function(e){var t=this,a=ae()(e),r=ee()(a,this.paymentSetupFields),n=ee()(a,this.profitMarginFields);r.length>0?this.setState({current:0},(function(){t.scrollToTop()})):n.length>0?this.setState({current:1},(function(){t.scrollToTop()})):this.setState({current:2},(function(){t.scrollToTop()}))}},{key:"next",value:function(){var e=this,t=this.state.current,a=this.props.form;0===t&&a.validateFields(this.paymentSetupFields,(function(t){me()(t)&&e.setState({current:1},(function(){e.scrollToTop(),e.profitMarginRef.fetchMarketPrice()}))})),1===t&&a.validateFields(this.profitMarginFields,(function(t){me()(t)&&e.setState({current:2},(function(){e.scrollToTop()}))}))}},{key:"prev",value:function(){var e=this,t=this.state.current;this.setState({current:t-1},(function(){e.scrollToTop()}))}},{key:"render",value:function(){var e=this,t=this.getMarketPlaceFee(),a=this.props,r=a.intl,o=a.form,l=a.offer,c=a.paymentMethods,i=a.marketplaceTags,u=this.state,s=u.current,f=u.confirmLoading;return n.a.createElement("div",null,n.a.createElement(E.a,{title:l&&l.id?n.a.createElement(w.a,{defaultMessage:"Edit Sell Offer",id:"marketplace.edit_sell_offer"}):n.a.createElement(w.a,{defaultMessage:"Create Sell Offer",id:"marketplace.create_sell_offer"})},n.a.createElement("div",{className:"mb-5 d-none d-sm-flex"},n.a.createElement(ye.a,{current:s},n.a.createElement(Sa,{title:n.a.createElement(w.a,{defaultMessage:"Payment Setup",id:"create_offer.sell_payment_setup"}),description:n.a.createElement(w.a,{defaultMessage:"Choose currency.",id:"create_offer.sell_payment_setup_desc"})}),n.a.createElement(Sa,{title:n.a.createElement(w.a,{defaultMessage:"Profit Margin",id:"create_offer.sell_profit_margin"}),description:n.a.createElement(w.a,{defaultMessage:"Set trade limits.",id:"create_offer.sell_profit_margin_desc"})}),n.a.createElement(Sa,{title:n.a.createElement(w.a,{defaultMessage:"Terms of Trade",id:"create_offer.sell_terms_of_trade"}),description:n.a.createElement(w.a,{defaultMessage:"State your terms.",id:"create_offer.sell_terms_of_trade_desc"})}))),n.a.createElement("div",{className:"mt-3"},n.a.createElement(Z.a,{onSubmit:this.handleSubmit},n.a.createElement(Zt,{intl:r,form:o,marketplaceFee:t,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,paymentMethods:c,visible:0===s}),n.a.createElement(na,{intl:r,form:o,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,ref:function(t){return e.profitMarginRef=t},visible:1===s}),n.a.createElement(da,{intl:r,form:o,tags:i,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,visible:2===s}),n.a.createElement(Z.a.Item,{className:"mt-4",wrapperCol:{xl:{offset:16}}},n.a.createElement("div",{className:"px-xl-3"},s>0&&n.a.createElement(_.a,{onClick:function(){return e.prev()},type:"default"},n.a.createElement(Q.a,{type:"double-left"}),n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Previous",id:"common.sell_previous"}))),s<2&&n.a.createElement(_.a,{className:"cp-btn-primary",onClick:function(){return e.next()},type:"default"},n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Next",id:"common.sell_next"})),n.a.createElement(Q.a,{type:"double-right"})),2===s&&n.a.createElement(_.a,{type:"default",loading:f,icon:"save",className:"cp-btn-success",htmlType:"submit"},n.a.createElement("span",null,l&&l.id?n.a.createElement(w.a,{defaultMessage:"Edit Offer",id:"common.sell_edit_offer"}):n.a.createElement(w.a,{defaultMessage:"Create Offer",id:"common.sell_create_offer"})))))))))}}])&&ga(a.prototype,r),o&&ga(a,o),t}(r.Component),ka=Object(N.c)(Object(de.b)((function(e){var t=e.settings.layoutType,a=e.collections,r=a.marketplaceTags,n=a.currencies,o=a.paymentMethods;return{layoutType:t,accounts:e.wallet.accounts,marketplaceTags:r,currencies:n,paymentMethods:o}})),Object(be.a)(),c.i)(Ma);function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"===ja(Symbol.iterator)?function(e){return ja(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ja(e)})(e)}function xa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e,t){return!t||"object"!==Pa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ca=Object(v.a)({pageTitle:{id:"meta.title.marketplace_create_offer",defaultMessage:"Create Offer - Marketplace | {name}"}}),Aa=G.a.TabPane,Ia=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Na(this,Ta(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}(t,e),a=t,(r=[{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(Ca.pageTitle,{name:F.a.name})}},{key:"render",value:function(){var e=this.props.location,t={},a=d()(e,"state.offer");return a&&a.id&&("sell"===a.type&&(t=K()(t,{defaultActiveKey:"create_sell_offer"})),"buy"===a.type&&(t=K()(t,{defaultActiveKey:"create_buy_offer"}))),n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(H.a,t,n.a.createElement(Aa,{key:"create_sell_offer",tab:n.a.createElement("span",{className:"d-flex align-items-center"},n.a.createElement("i",{className:"la la-sign-out-alt cp-fs-xl mr-2"}),n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Sell Offer",id:"marketplace.sell_offer"})))},n.a.createElement(ka,{offer:a&&"sell"===a.type&&a})),n.a.createElement(Aa,{key:"create_buy_offer",tab:n.a.createElement("span",{className:"d-flex align-items-center"},n.a.createElement("i",{className:"la la-sign-in-alt cp-fs-xl mr-2"}),n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Buy Offer",id:"marketplace.buy_offer"})))},n.a.createElement(Ft,{offer:a&&"buy"===a.type&&a}))))}}])&&xa(a.prototype,r),o&&xa(a,o),t}(r.Component),qa=Object(N.c)(Object(de.b)((function(e){var t=e.auth;return{auth:new we.a(t)}})),S.c)(Ia);function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e){return(Va="function"==typeof Symbol&&"symbol"===Ra(Symbol.iterator)?function(e){return Ra(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ra(e)})(e)}function Da(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var za=Object(v.a)({pageTitle:{id:"meta.title.marketplace_sell_coin",defaultMessage:"Sell Coin - Marketplace | {name}"}}),Ka=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=La(t).call(this,e),a=!o||"object"!==Va(o)&&"function"!=typeof o?Ya(r):o,Ua(Ya(a),"applyFilter",(function(e){a.setState({drawerState:!1},(function(){a.table.applyFilter(e)}))})),Ua(Ya(a),"clearFilter",(function(){a.setState({drawerState:!1},(function(){a.table.clearFilter()}))})),Ua(Ya(a),"toggleDrawer",(function(){a.setState((function(e){return{drawerState:!e.drawerState}}))})),Ua(Ya(a),"columns",(function(){return[{title:n.a.createElement(w.a,{defaultMessage:"Buyer",id:"common.buyer"}),dataIndex:"user",render:function(e){return n.a.createElement(j.a,{user:e})}},{title:n.a.createElement(w.a,{defaultMessage:"Coin",id:"common.coin"}),dataIndex:"coin_name"},{title:n.a.createElement(w.a,{defaultMessage:"Payment",id:"common.payment"}),dataIndex:"payment_method",render:function(e,t){return n.a.createElement("div",{style:{whiteSpace:"nowrap"}},n.a.createElement("span",{className:"d-block"},e.name),n.a.createElement("small",{className:"d-block"},t.label))}},{title:n.a.createElement(w.a,{defaultMessage:"Currency",id:"common.currency"}),dataIndex:"currency"},{title:n.a.createElement(w.a,{defaultMessage:"Range",id:"common.range"}),key:"range",render:function(e,t){return n.a.createElement("span",null,n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_min_amount),n.a.createElement("span",{className:"font-weight-semi-bold mx-2"},n.a.createElement(w.a,{defaultMessage:"To",id:"common.to"})),n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_real_max_amount))}},{title:n.a.createElement(w.a,{defaultMessage:"Rate",id:"common.rate"}),dataIndex:"formatted_rate"},{title:n.a.createElement(w.a,{defaultMessage:"Margin",id:"common.margin"}),dataIndex:"profit_margin",render:function(e){return"".concat(e||0,"%")}},{title:n.a.createElement(w.a,{defaultMessage:"Action",id:"common.action"}),key:"action",fixed:"right",render:function(e,t){var a=Object(c.g)(x.a["marketplace.offer"].path,{slug:t.slug});return n.a.createElement(P.a,{to:a},n.a.createElement(_.a,{type:"default",className:"cp-btn-danger",size:"small"},n.a.createElement("span",null,n.a.createElement(w.a,{defaultMessage:"Sell",id:"common.sell"}))))}}]})),a.state={drawerState:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(t,e),a=t,(r=[{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(za.pageTitle,{name:F.a.name})}},{key:"render",value:function(){var e=this,t=this.state.drawerState,a=Object(k.b)("marketplace.sell-coin.table"),r=n.a.createElement(O.a,{onApplyFilter:this.applyFilter,onClearFilter:this.clearFilter});return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{lg:8,xl:6},n.a.createElement(E.a,{styleName:"d-none d-lg-block",title:n.a.createElement(w.a,{defaultMessage:"Filter Result",id:"common.filter_result"})},r)),n.a.createElement(p.a,{lg:16,xl:18},n.a.createElement("div",{className:"d-block d-lg-none"},n.a.createElement(f.a,{visible:t,onClose:this.toggleDrawer,placement:"right",title:n.a.createElement(w.a,{defaultMessage:"Filter Result",id:"common.filter_result"}),closable:!1},n.a.createElement("div",{className:"p-2"},r))),n.a.createElement(E.a,{styleName:"cp-card-table",title:n.a.createElement(w.a,{defaultMessage:"Available Offers",id:"marketplace.available_offers"}),extra:n.a.createElement(_.a,{type:"primary",shape:"circle",className:"mb-0 material-shadow d-block d-lg-none",icon:"filter",onClick:this.toggleDrawer})},n.a.createElement(M.a,{route:a.url(),columns:this.columns(),className:"mt-1",ref:function(t){return e.table=t},scroll:{x:!0,y:!1},size:"middle"})))))}}])&&Da(a.prototype,r),o&&Da(a,o),t}(r.Component),Wa=Object(N.c)(S.c)(Ka),Ga=a("fTA7"),Ha=a.n(Ga),Xa=a("v1ta"),Za=a("re1g"),Ja=a("amnm"),Qa=a("wUfQ"),$a=a("odIg"),er=a("tpxX"),tr=a.n(er),ar=a("17x9"),rr=a.n(ar);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e){return(or="function"==typeof Symbol&&"symbol"===nr(Symbol.iterator)?function(e){return nr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":nr(e)})(e)}function lr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var fr=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=cr(t).call(this,e),a=!n||"object"!==or(n)&&"function"!=typeof n?ir(r):n,sr(ir(a),"convert",(function(e,t,a){var r=parseFloat(e);if(Number.isNaN(r))return"";var n=t(r);return tr()(n,a).toString()})),sr(ir(a),"handlePriceChange",(function(e){a.setState({value:e.target.value,scale:"price"},(function(){a.triggerControlChange()}))})),sr(ir(a),"handleCoinChange",(function(e){a.setState({value:e.target.value,scale:"coin"},(function(){a.triggerControlChange()}))})),sr(ir(a),"toCoin",(function(e){return e/a.props.unitPrice})),sr(ir(a),"toPrice",(function(e){return e*a.props.unitPrice})),a.state={value:e.value,scale:"price"},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,e),a=t,(r=[{key:"triggerControlChange",value:function(){var e=this.props.onChange;if("function"==typeof e){var t=this.state,a=t.value,r=t.scale;if("coin"===r){var n=this.convert(a,this.toPrice,2);e(parseFloat(n))}else"price"===r&&e(parseFloat(a))}}},{key:"render",value:function(){var e=this.props,t=e.coinSymbol,a=e.currency,r=e.precision,o=this.state,l=o.value,c=o.scale,i="coin"===c?this.convert(l,this.toPrice,2):l,s="price"===c?this.convert(l,this.toCoin,r):l;return n.a.createElement("div",null,n.a.createElement(ut.a.Group,null,n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{xs:12,style:{marginBottom:"0"}},n.a.createElement(ut.a,{addonAfter:t,onChange:this.handleCoinChange,value:s})),n.a.createElement(p.a,{xs:12,style:{marginBottom:"0"}},n.a.createElement(ut.a,{addonAfter:a,onChange:this.handlePriceChange,value:i})))))}}])&&lr(a.prototype,r),o&&lr(a,o),t}(r.Component);fr.protoType={coinSymbol:rr.a.string.isRequired,currency:rr.a.string.isRequired,unitPrice:rr.a.number.isRequired,precision:rr.a.number.isRequired};var mr=fr;function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e){return(yr="function"==typeof Symbol&&"symbol"===pr(Symbol.iterator)?function(e){return pr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":pr(e)})(e)}function dr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Er=Object(v.a)({successful:{id:"offer.start_trade_action_successful",defaultMessage:"Trade started successfully!"},pageTitle:{id:"meta.title.marketplace_offer",defaultMessage:"{title} | {name}"}}),vr=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=br(t).call(this,e),a=!n||"object"!==yr(n)&&"function"!=typeof n?hr(r):n,_r(hr(a),"goToChat",(function(e){var t=a.props.history,r=Object(c.g)(x.a["chat.view"].path,{token:e});if(!me()(t))return t.push(r)})),_r(hr(a),"handleSubmit",(function(e){e.preventDefault();var t=a.api,r=t.axios,n=t.route,o=a.state,l=o.loading,c=o.offer,i=a.props,u=i.form,s=i.intl;if(!l&&a.canStartTrade()){var f=n("marketplace.offer.start-trade",{offer:c.slug});u.validateFields((function(e,t){me()(e)&&(r.post(f.url(),t).then((function(e){return Object(he.c)(e,u,(function(e){a.setState({confirmLoading:!1}),a.goToChat(e.chat_id)}),s.formatMessage(Er.successful))})).catch((function(e){return Object(he.b)(e,u,t,(function(){a.setState({confirmLoading:!1})}))})),a.setState({confirmLoading:!0}))}))}})),_r(hr(a),"fetchOffer",(function(){var e=a.api,t=e.axios,r=e.route,n=a.props.match;a.setState({loading:!0});var o=r("marketplace.offer.get",{offer:n.params.slug}).url();t.get(o).then((function(e){return Object(he.d)(e,(function(e){a.setState({offer:e,loading:!1})}))})).catch((function(e){return Object(he.a)(e,(function(){a.setState({offer:{},loading:!1})}))}))})),_r(hr(a),"getSharableLink",(function(){if("undefined"!=typeof window)return window.location.href})),a.api=new k.a,a.state={offer:{},confirmLoading:!1,loading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gr(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.fetchOffer()}},{key:"shouldVerifyEmail",value:function(){var e=this.state.offer,t=this.props.auth;return e.require_email_verification&&!t.verifiedEmail()}},{key:"shouldVerifyPhone",value:function(){var e=this.state.offer,t=this.props.auth;return e.require_phone_verification&&!t.verifiedPhone()}},{key:"canStartTrade",value:function(){var e=this.props.auth,t=this.state.offer;return t.visibility&&e.check()&&e.user.id!==t.user.id&&!this.shouldVerifyEmail()&&!this.shouldVerifyPhone()}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.match.params,n=e.match.params;r.slug!==n.slug&&(this.fetchOffer(),console.log("Updated Offer Component"))}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getPageTitle",value:function(){var e=this.props.intl,t=this.state.offer;return e.formatMessage(Er.pageTitle,{name:F.a.name,title:t.title})}},{key:"render",value:function(){var e=this.props.auth,t=this.props.form.getFieldDecorator,a=this.state,r=a.loading,o=a.offer,l=a.confirmLoading,c=this.getSharableLink();return me()(o)?r?n.a.createElement(Xa.a,null):n.a.createElement(Za.a,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{xl:16,lg:14,md:14},n.a.createElement(E.a,null,n.a.createElement("h2",{className:"text-uppercase"},"sell"===o.type&&n.a.createElement(w.a,{defaultMessage:"How much do you want to buy?",id:"offer.how_much_buy"}),"buy"===o.type&&n.a.createElement(w.a,{defaultMessage:"How much do you want to sell?",id:"offer.how_much_sell"})),n.a.createElement(Z.a,{className:"mt-3",onSubmit:this.handleSubmit},n.a.createElement(Z.a.Item,{labelAlign:"left",label:n.a.createElement(w.a,{defaultMessage:"Enter Amount",id:"offer.enter_amount"})},t("amount",{rules:[{type:"number",required:!0,min:o.min_amount,max:o.real_max_amount}]})(n.a.createElement(mr,{currency:o.currency,precision:o.coin_precision,coinSymbol:o.coin_symbol,unitPrice:o.rate}))),o.visibility?!this.canStartTrade()&&n.a.createElement("div",{className:"my-2"},n.a.createElement(Oe.a,{message:n.a.createElement(w.a,{defaultMessage:"Unable to Start Trade",id:"offer.unable_to_start_trade"}),description:n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},e.check()?n.a.createElement(n.a.Fragment,null,e.user.id===o.user.id?n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"You cannot start a trade with yourself!",id:"offer.cannot_start_trade_with_self_desc"})):n.a.createElement(n.a.Fragment,null,this.shouldVerifyPhone()&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"{phone} verification is required by the owner",id:"offer.phone_verification_required_desc",values:{phone:n.a.createElement("b",null,n.a.createElement(w.a,{defaultMessage:"Phone",id:"common.phone"}))}})),this.shouldVerifyEmail()&&n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"{email} verification is required by the owner",id:"offer.email_verification_required_desc",values:{email:n.a.createElement("b",null,n.a.createElement(w.a,{defaultMessage:"Email",id:"common.email"}))}})))):n.a.createElement("li",null,n.a.createElement(w.a,{id:"offer.authentication_required_desc",defaultMessage:"You need to {register} or {login} to continue with the trade.",values:{register:n.a.createElement("b",null,n.a.createElement(w.a,{defaultMessage:"Register",id:"common.register"})),login:n.a.createElement("b",null,n.a.createElement(w.a,{defaultMessage:"Login",id:"common.login"}))}}))),type:"warning",showIcon:!0})):n.a.createElement(Oe.a,{className:"mb-1",type:"warning",message:n.a.createElement(w.a,{id:"offer.unavailable_info",defaultMessage:"This offer is {unavailable}. This can be because the owner has disable the offer, cannot currently interact with the platform, or they do not have enough balance to fulfill the offer.",values:{unavailable:n.a.createElement("span",{className:"text-uppercase font-weight-bold"},n.a.createElement(w.a,{defaultMessage:"Unavailable",id:"common.unavailable"}))}}),showIcon:!0}),n.a.createElement(Z.a.Item,null,n.a.createElement(_.a,{type:"primary",size:"large",loading:l,icon:"lock",disabled:!this.canStartTrade(),htmlType:"submit",block:!0},n.a.createElement("span",{className:"text-uppercase"},"sell"===o.type&&n.a.createElement(w.a,{defaultMessage:"Buy Now!",id:"offer.buy_now"}),"buy"===o.type&&n.a.createElement(w.a,{defaultMessage:"Sell Now!",id:"offer.sell_now"})))),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{sm:12,className:"my-2"},n.a.createElement(Oe.a,{type:"info",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(w.a,{defaultMessage:"Offer Information",id:"offer.offer_information"})),n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"Your amount should be between {minimum} and {maximum}!",id:"offer.amount_range_information",values:{maximum:n.a.createElement("b",null,o.formatted_real_max_amount),minimum:n.a.createElement("b",null,o.formatted_min_amount)}})),n.a.createElement("li",null,n.a.createElement(w.a,{defaultMessage:"Rate per {coin_name} is {price}. You can buy any fraction",id:"offer.rate_information",values:{coin_name:n.a.createElement("b",null,o.coin_name),price:n.a.createElement("b",null,o.formatted_rate)}}))))})),n.a.createElement(p.a,{sm:12,className:"my-2"},n.a.createElement(Oe.a,{type:"warning",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(w.a,{defaultMessage:"Payment Verification",id:"offer.payment_verification_warning"})),n.a.createElement("div",{className:"mt-1"},n.a.createElement(w.a,{defaultMessage:"The buyer of this trade has a time limit of {deadline} to pay for the trade before the trade is cancelled by the system. Trade will not auto-cancel when buyer has marked trade as paid, after which buyer has to wait for seller to release coin.",id:"offer.confirmation_time_information",values:{deadline:n.a.createElement("b",null,o.confirmation_time_frame," minutes")}})))})))),n.a.createElement(ct.a,null,n.a.createElement(w.a,{defaultMessage:"Owner Terms",id:"offer.owner_terms"})),n.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"font-italic cp-fs-lg"},o.terms))),n.a.createElement(p.a,{xl:8,lg:10,md:10},n.a.createElement(E.a,{actions:c&&[n.a.createElement("a",{href:"//twitter.com/intent/tweet?url=".concat(c)},n.a.createElement("i",{className:"lab la-twitter cp-fs-2x"})),n.a.createElement("a",{href:"//reddit.com/submit?url=".concat(c)},n.a.createElement("i",{className:"lab la-reddit cp-fs-2x"})),n.a.createElement("a",{href:"//www.facebook.com/sharer.php?u=".concat(c)},n.a.createElement("i",{className:"lab la-facebook cp-fs-2x"}))]},n.a.createElement("div",{className:"text-center mb-3"},n.a.createElement(Ja.a,{user:o.user,className:"cp-fs-3x",size:150})),n.a.createElement("h2",{className:"mt-2 mb-1 cp-fs-xxl font-weight-light text-center"},n.a.createElement("span",{className:"mr-2"},n.a.createElement(P.a,{to:"/profile/".concat(o.user.name)},o.user.name)),o.user.location&&n.a.createElement(Ae.a,{code:o.user.location.iso_code})),n.a.createElement("div",{className:"cp-fs-lg text-center"},n.a.createElement(Ha.a,{value:o.user.average_marketplace_rating,disabled:!0}),n.a.createElement("span",{className:"ml-2"},"(",Object(Qa.a)(o.user.total_marketplace_rating),")")),o.user.last_seen_at&&n.a.createElement("div",{className:"mt-2 align-items-center d-flex justify-content-center"},n.a.createElement("i",{className:"la la-clock cp-fs-xl"}),n.a.createElement("span",{className:"ml-2"},Object(N.g)(o.user.last_seen_at)))),n.a.createElement($a.a,{user:o.user}))))}}])&&dr(a.prototype,r),o&&dr(a,o),t}(r.Component),wr=Object(N.c)(Object(de.b)((function(e){var t=e.auth;return{auth:new we.a(t)}})),Object(be.a)())(vr);t.default=function(e){var t=e.match.path;return n.a.createElement(c.e,null,n.a.createElement(o.a,{from:"".concat(t,"/"),to:"".concat(t,"/buy_coin"),exact:!0,status:301}),n.a.createElement(c.b,{path:"".concat(t,"/offer/:slug"),component:wr}),n.a.createElement(c.b,{path:"".concat(t,"/buy_coin"),component:U}),n.a.createElement(l.a,{path:"".concat(t,"/create_offer"),component:qa}),n.a.createElement(c.b,{path:"".concat(t,"/sell_coin"),component:Wa}),n.a.createElement(c.b,{component:Za.a}))}},HDGS:function(e,t,a){"use strict";var r=a("N9UN"),n=a.n(r),o=a("q1tI"),l=a.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=function(e){var t=e.styleName,a=i(e,["styleName"]);return l.a.createElement(n.a,c({bordered:!1,className:"cp-card-widget ".concat(t)},a))};u.defaultProps={styleName:""},t.a=u},Ikkh:function(e,t,a){"use strict";var r=a("j7zX"),n=a.n(r),o=a("3OWR"),l=a.n(o),c=a("q1tI"),i=a.n(c),u=a("BflS"),s=a("/MKj"),f=a("iNPk"),m=a("EC67");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"===p(Symbol.iterator)?function(e){return p(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":p(e)})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function b(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){var e,a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=this,n=(e=h(t)).call.apply(e,[this].concat(l)),a=!n||"object"!==y(n)&&"function"!=typeof n?g(r):n,function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(g(a),"onTabChange",(function(e){"undefined"!=typeof sessionStorage&&sessionStorage.setItem(a.getStorageKey(),e)})),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),a=t,(r=[{key:"getStorageKey",value:function(){return"page.tab(".concat(this.props.location.pathname,")")}},{key:"getTabPosition",value:function(){var e=this.props.windowSize.width;return e&&e<u.l?"top":"left"}},{key:"getDefaultActiveKey",value:function(){var e=void 0;return"undefined"!=typeof sessionStorage&&(e=sessionStorage.getItem(this.getStorageKey())||void 0),e}},{key:"render",value:function(){var e=this.getDefaultActiveKey(),t={};return e&&(t=l()(t,{defaultActiveKey:e})),i.a.createElement(n.a,d({onChange:this.onTabChange,tabPosition:this.getTabPosition()},t,this.props))}}])&&b(a.prototype,r),o&&b(a,o),t}(c.Component);t.a=Object(f.c)(Object(s.b)((function(e){return{windowSize:e.settings.windowSize}})),m.i)(E)},T0ja:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),o=a("amnm"),l=a("gCZO"),c=a("55Ip"),i=a("mLH4"),u=a("wUfQ");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function m(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var a,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props,t=e.user;return e.showRatingsCount,n.a.createElement("div",{style:{whiteSpace:"nowrap"},className:"cp-user-cell d-flex align-items-center"},n.a.createElement(o.a,{user:t}),n.a.createElement("div",{className:"ml-2"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("div",{className:"text-truncate d-inline-block mr-2"},n.a.createElement(c.a,{to:"/profile/".concat(t.name)},t.name)),t.location&&n.a.createElement(i.a,{code:t.location.iso_code})),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement(l.a,{value:t.average_marketplace_rating}),n.a.createElement("span",{className:"ml-2 mt-1"},"(",Object(u.a)(t.total_marketplace_rating),")"))))}}])&&m(a.prototype,r),s&&m(a,s),t}(r.Component);t.a=b},eLk5:function(e,t,a){"use strict";var r=a("DtFj"),n=a.n(r),o=a("3OWR"),l=a.n(o),c=a("wEy/"),i=a.n(c),u=a("UfWW"),s=a.n(u),f=a("q1tI"),m=a.n(f),p=a("Falu"),y=a("mP/V");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=function(e){function t(e){var a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=S(t).call(this,e),a=!n||"object"!==b(n)&&"function"!=typeof n?O(r):n,k(O(a),"handleTableChange",(function(e,t){a.setState((function(a){return{pagination:v(v({},a.pagination),{},{current:e.current}),filters:v(v({},a.filters),t)}}),(function(){a.fetchData()}))}));var o=e.route,l=e.pagination,c=e.filters;return a.api=new p.a,a.pagination=new y.a(a.api,o),a.state={data:[],pagination:l||{},filters:c||{},loading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),a=t,(r=[{key:"updateItem",value:function(e,t){var a=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[a]===e[a]}:t;var r=_(this.state.data),n=s()(r,t);n>=0&&(r[n]=e),this.setState({data:r})}},{key:"removeItem",value:function(e,t){var a=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[a]===e[a]}:t;var r=_(this.state.data),n=s()(r,t);n>=0&&i()(r,(function(e,t){return t===n})),this.setState({data:r})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"applyFilter",value:function(e){var t=this;this.setState((function(t){var a=t.pagination,r=t.filters;return{pagination:l()(a,{current:1}),filters:l()(r,e)}}),(function(){t.fetchData()}))}},{key:"clearFilter",value:function(){var e=this;this.setState((function(e){var t=e.pagination;return{filters:{},pagination:l()(t,{current:1})}}),(function(){e.fetchData()}))}},{key:"fetchData",value:function(){var e=this,t=this.state,a=t.pagination,r=t.filters;this.pagination.fetchData(a,r,(function(t){e.setState((function(e){return{pagination:v(v({},e.pagination),{},{total:void 0!==t.total?t.total:t.meta.total}),data:t.data,loading:!1}}))}),(function(){e.setState({loading:!1})})),this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"render",value:function(){var e=this.props,t=(e.route,e.pagination,e.filters,g(e,["route","pagination","filters"])),a=this.state,r=a.loading,o=a.data;return m.a.createElement(n.a,h({size:"middle",rowKey:"id"},t,{pagination:this.state.pagination,onChange:this.handleTableChange,dataSource:o,loading:r}))}}])&&w(a.prototype,r),o&&w(a,o),t}(f.Component);t.a=j},gCZO:function(e,t,a){"use strict";var r=a("fTA7"),n=a.n(r),o=a("Pbn2"),l=a.n(o),c=a("q1tI"),i=a.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function m(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){return i.a.createElement(n.a,f({disabled:!0,character:i.a.createElement(l.a,{type:"star",style:{fontSize:"15px"},theme:"filled"}),allowHalf:!0},this.props))}}])&&m(a.prototype,r),o&&m(a,o),t}(c.Component);t.a=b},mLH4:function(e,t,a){"use strict";var r=a("aAZC"),n=a.n(r),o=a("q1tI"),l=a.n(o);t.a=function(e){var t=e.code;return l.a.createElement("span",{className:"flag-icon mr-2 flag-icon-".concat(n()(t))})}},odIg:function(e,t,a){"use strict";var r=a("MM9K"),n=a.n(r),o=a("IztG"),l=a.n(o),c=a("hqwM"),i=a.n(c),u=a("E+oP"),s=a.n(u),f=a("q1tI"),m=a.n(f),p=a("24R3"),y=a("HDGS"),d=a("Falu"),b=a("mP/V"),h=a("iNPk"),g=a("55Ip"),_=a("mLH4"),E=a("amnm"),v=a("gCZO");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return(S="function"==typeof Symbol&&"symbol"===w(Symbol.iterator)?function(e){return w(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":w(e)})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=P(this,x(t).call(this,e))).api=new d.a,a.state={data:[],loading:!1,hasMore:!1,params:{pageSize:10}};var r=a.api.route("user.marketplace-ratings",{name:e.user.name}).url();return a.pagination=new b.a(a.api,r),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.fetchUserRatings()}},{key:"fetchUserRatings",value:function(){var e=this;this.setState({loading:!0});var t=M(M({},this.state.params),{},{current:1});this.pagination.fetchData(t,{},(function(a){e.setState({data:a.data,loading:!1,hasMore:Boolean(a.links.next),params:M(M({},t),{},{total:a.meta.total})})}),(function(){e.setState({loading:!1})}))}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.user,n=e.user;r.id!==n.id&&this.fetchUserRatings()}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.loading;return m.a.createElement(y.a,{styleName:"cp-card-reviews",title:m.a.createElement(p.a,{defaultMessage:"Latest Marketplace Reviews",id:"common.latest_marketplace_reviews"})},m.a.createElement(n.a,{spinning:a},m.a.createElement("div",{className:"cp-profile-reviews-scroll","data-simplebar":!0},m.a.createElement(i.a,{itemLayout:"vertical",dataSource:t,renderItem:function(e){var t=e.rater;return s()(t)?m.a.createElement(i.a.Item,null):m.a.createElement(i.a.Item,null,m.a.createElement(l.a,{content:Object(h.f)(e.comment,200),avatar:m.a.createElement(E.a,{user:t}),datetime:m.a.createElement("span",null,Object(h.b)(e.created_at,"MMMM Do YYYY")),actions:[m.a.createElement(v.a,{value:e.rating})],author:m.a.createElement("div",{className:"d-flex"},m.a.createElement("span",{className:"mr-2"},m.a.createElement(g.a,{to:"/profile/".concat(t.name)},t.name)),t.location&&m.a.createElement(_.a,{code:t.location.iso_code}))}))}}))))}}])&&j(a.prototype,r),o&&j(a,o),t}(f.Component);t.a=T},qiO9:function(e,t,a){"use strict";var r=a("4IMT"),n=a.n(r),o=a("5Dct"),l=a.n(o),c=a("FErh"),i=a.n(c),u=a("7GkX"),s=a.n(u),f=a("qu0K"),m=a.n(f),p=a("bt/X"),y=a.n(p),d=a("P/G1"),b=a.n(d),h=a("E+oP"),g=a.n(h),_=a("FAat"),E=a.n(_),v=a("q1tI"),w=a.n(v),S=a("7++0"),O=a("24R3"),M=a("iNPk"),k=a("4ztd"),j=a("/MKj");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return(x="function"==typeof Symbol&&"symbol"===P(Symbol.iterator)?function(e){return P(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":P(e)})(e)}function N(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=E.a.Option,q=E.a.OptGroup,R=Object(S.a)({country:{id:"filter_result.select_country_placeholder",defaultMessage:"Select country..."},coin:{id:"filter_result.select_coin_placeholder",defaultMessage:"Select coin..."},currency:{id:"filter_result.select_currency_placeholder",defaultMessage:"Select currency..."},paymentMethod:{id:"filter_result.select_payment_method_placeholder",defaultMessage:"Select payment method..."},tags:{id:"filter_result.select_tags_placeholder",defaultMessage:"Filter by tags..."},amount:{id:"filter_result.input_amount_placeholder",defaultMessage:"Filter by amount..."}}),V=function(e){function t(){var e,a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=this,n=(e=T(t)).call.apply(e,[this].concat(l)),a=!n||"object"!==x(n)&&"function"!=typeof n?F(r):n,A(F(a),"applyFilter",(function(){var e=a.props,t=e.onApplyFilter;e.form.validateFields((function(e,a){if("function"==typeof t&&g()(e))return t(a)}))})),A(F(a),"clearFilter",(function(){var e=a.props,t=e.onClearFilter;if(e.form.resetFields(),"function"==typeof t)return t()})),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldsValue,r=this.props,o=r.intl,c=r.currencies,u=r.countries,f=r.wallets,p=r.paymentMethods,d=r.marketplaceTags,h=b()(a()).some((function(e){return e})),g=y()(p,(function(e){return e.category.name}));return w.a.createElement(m.a,{className:"p-1"},w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Coin",id:"marketplace.filter_by_coin"})},t("coin_identifier")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(R.coin),showSearch:!0,style:{width:"100%"}},f.map((function(e){return w.a.createElement(I,{key:e.coin.id,value:e.coin.identifier},e.coin.name)}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Currency",id:"marketplace.filter_by_currency"})},t("currency")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(R.currency),showSearch:!0,style:{width:"100%"}},s()(c).map((function(e){return w.a.createElement(I,{key:e,value:i()(e)},c[e].name," (",c[e].code,")")}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Country",id:"marketplace.filter_by_country"})},t("country")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(R.country),showSearch:!0,style:{width:"100%"}},s()(u).map((function(e){return w.a.createElement(I,{key:e,value:i()(e)},u[e])}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Payment Method",id:"marketplace.filter_by_payment_method"})},t("payment_method_id")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(R.paymentMethod),showSearch:!0,style:{width:"100%"}},s()(g).map((function(e,t){return w.a.createElement(q,{key:t,label:e},g[e].map((function(e){return w.a.createElement(I,{key:e.id,value:e.id},e.name)})))}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Tags",id:"marketplace.filter_by_tags"})},t("tags")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(R.tags),showSearch:!0,mode:"tags",style:{width:"100%"}},d.map((function(e){return w.a.createElement(I,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"Amount",id:"marketplace.filter_amount"})},t("amount")(w.a.createElement(l.a,{style:{width:"100%"},placeholder:o.formatMessage(R.amount),min:1,step:1}))),w.a.createElement(m.a.Item,{className:"mt-3 mb-0"},w.a.createElement(n.a,{type:"primary",onClick:this.applyFilter,block:!0},w.a.createElement(O.a,{defaultMessage:"Apply Filter",id:"filter_result.apply_filter"}))),h&&w.a.createElement(m.a.Item,{className:"mt-0"},w.a.createElement(n.a,{type:"default",onClick:this.clearFilter,block:!0},w.a.createElement(O.a,{defaultMessage:"Clear Filter",id:"filter_result.clear_filter"}))))}}])&&N(a.prototype,r),o&&N(a,o),t}(v.Component);t.a=Object(M.c)(Object(j.b)((function(e){var t=e.settings.layoutType,a=e.collections,r=a.currencies,n=a.marketplaceTags,o=a.wallets,l=a.paymentMethods;return{layoutType:t,marketplaceTags:n,wallets:o,countries:a.countries,paymentMethods:l,currencies:r}})),Object(k.a)())(V)},wUfQ:function(e,t,a){"use strict";var r=a("o0o1"),n=a.n(r);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i={base:1e3,precision:2,decimalSeparator:".",lowerCase:!1,space:!1,units:["","K","M","B","T","P","E"]},u=function(e){var t=parseFloat(e);if(Number.isNaN(t))throw new Error("Value must be a valid number");if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw new RangeError("Value is either too big or too small");return t},s=n.a.mark((function e(t,a){var r,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a,o=0;case 2:if(!((l=t/r)<1)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,{result:l,count:++o};case 8:r*=a,e.next=2;break;case 11:case"end":return e.stop()}}),e)})),f=function(e,t){if(!Number.isFinite(e))throw new Error("Value must be a finite number");if(!Number.isInteger(t)||t<0)throw new Error("Precision must be a non-negative integer");return Number.isInteger(e)?e:parseFloat(e.toFixed(t))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=l(l({},i),t);if(!Array.isArray(a.units)||!a.units.length)throw new Error("Units must be an array");var r=u(e),n=r<0?"-":"";r=Math.abs(r);var o=0,c=!0,m=!1,p=void 0;try{for(var y,d=s(r,a.base)[Symbol.iterator]();!(c=(y=d.next()).done);c=!0){var b=y.value;r=b.result,o=b.count}}catch(e){m=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(m)throw p}}o=o>a.units.length?a.units.length-1:o;var h=a.lowerCase?a.units[o].toLowerCase():a.units[o],g=a.space?" ":"",_=f(r,a.precision),E=_.toString().replace(".",a.decimalSeparator);return"".concat(n).concat(E).concat(g).concat(h)}}};